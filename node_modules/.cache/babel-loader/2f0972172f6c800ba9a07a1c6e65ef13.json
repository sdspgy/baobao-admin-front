{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportdata/reportdata/reportdata.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportdata/reportdata/reportdata.vue","mtime":1592039106583},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { queryDaily as _queryDaily } from '@/api/index';\nimport vTitleHead from '../../game/template/TitleHead';\nvar initData = {\n  '今天': 0,\n  '昨天': 1,\n  '7日': 7,\n  '30日': 30\n};\nvar initPhone = {\n  'ALL': 0,\n  'ANDROID': 1,\n  'IOS': 2\n};\nexport default {\n  name: \"reportData\",\n  components: {\n    vTitleHead: vTitleHead\n  },\n  data: function data() {\n    return {\n      today: true,\n      notoday: true,\n      timeSection: [],\n      nodata: true,\n      tableTrue: true,\n      value1: '1',\n      isShowCondition: false,\n      name: '概况数据',\n      systemName: '操作系统百分比(活跃/新增)',\n      monthDau: '月活跃',\n      weekDau: '周活跃',\n      yesterDayDau: '活跃',\n      dau: '活跃',\n      monthInstall: '月新增',\n      weekInstall: '新增',\n      yesterDayInstall: '昨日新增',\n      install: '新增',\n      monthPay: '月付费(元)',\n      weekPay: '付费(元)',\n      yesterDayPay: '昨日付费(元)',\n      pay: '付费(元)',\n      retention: '留存(%)',\n      payChart: '付费数据',\n      retenTable: '留存数据(%)',\n      isShow: true,\n      isDevice: '用户',\n      phone: 'ALL',\n      data: '7日',\n      dauOrInstall: '活跃',\n      listData: [],\n      retentionDataListTable: [],\n      datas: [],\n      isccc: 99,\n      isPayType: \"2\",\n      isPayshow: false,\n      tips: [\"昨日所在周的活跃\", \"昨日所在周的新增\", \"昨日所在周的付费\", \"昨日所在月的活跃\", \"昨日所在月的新增\", \"昨日所在月的付费\"],\n      realtimeStatis: [{\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }],\n      yesterdayPercentage: [{\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }],\n      weekPercentage: [{\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }],\n      monthPercentage: [{\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }, {\n        value: '',\n        payRate: '',\n        payARPU: '',\n        payARPPU: ''\n      }],\n      retentionDataList: [{\n        ds: '',\n        oneRetentionPercentage: ''\n      }, {\n        ds: '',\n        oneRetentionPercentage: '',\n        twoRetentionPercentage: ''\n      }, {\n        ds: '',\n        oneRetentionPercentage: '',\n        twoRetentionPercentage: '',\n        threeRetentionPercentage: ''\n      }],\n      handelPayCount: [],\n      finalTable: [],\n      columnsHeadrReal: [{\n        title: '日期（星期）',\n        key: 'ds',\n        width: 120,\n        fixed: 'left'\n      }, {\n        title: '～时',\n        key: 'dayOfHour',\n        align: 'center',\n        width: 80,\n        fixed: 'left'\n      }],\n      columnsHeadr: [{\n        title: '日期（星期）',\n        key: 'ds',\n        width: 120,\n        align: 'center',\n        fixed: 'left'\n      }],\n      columnsOver: [{\n        title: '注册数',\n        key: 'installNum',\n        align: 'center',\n        width: 80\n      }, {\n        title: '活跃数',\n        key: 'dauNum',\n        align: 'center',\n        width: 80\n      }, {\n        title: '付费人数',\n        key: 'payCount',\n        align: 'center',\n        width: 100\n      }, {\n        title: '付费总额',\n        key: 'payAmount',\n        align: 'center',\n        width: 100\n      }, {\n        title: '付费率（%）',\n        key: 'payRate',\n        align: 'center',\n        width: 120\n      }, {\n        title: 'ARPU',\n        key: 'ARPU',\n        align: 'center',\n        width: 80\n      }, {\n        title: 'ARPPU',\n        key: 'ARPPU',\n        align: 'center',\n        width: 80\n      }, {\n        title: '注册付费率（%）',\n        key: 'payInstallRate',\n        align: 'center',\n        width: 140\n      }, {\n        title: '注册付费人数',\n        key: 'payInstallCount',\n        align: 'center',\n        width: 120\n      }, {\n        title: '注册付费总额',\n        key: 'payInstallAmount',\n        align: 'center',\n        width: 120\n      }, {\n        title: '注册付费ARPU',\n        key: 'payInstallARPU',\n        align: 'center',\n        width: 150\n      }, {\n        title: '注册付费ARPPU',\n        key: 'payInstallARPPU',\n        align: 'center',\n        width: 150\n      }, {\n        title: '付费次数',\n        key: 'payTimes',\n        align: 'center',\n        width: 120\n      }, {\n        title: '注册付费次数',\n        key: 'payInstallTimes',\n        align: 'center',\n        width: 120\n      }],\n      columns: [],\n      retentionTable: [// {\n      //     type: 'selection',\n      //     width: 60,\n      //     align: 'center',\n      //     fixed: 'left'\n      // },\n      // {\n      //     type: 'index',\n      //     width: 60,\n      //     align: 'center',\n      //     fixed: 'left'\n      // },\n      {\n        title: '日期（星期）',\n        key: 'ds',\n        align: 'center',\n        width: 120,\n        fixed: 'left'\n      }, {\n        title: '安装数',\n        key: 'installNum',\n        align: 'center',\n        width: 80,\n        fixed: 'left'\n      }, {\n        title: '1日',\n        key: 'oneRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 0) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.oneRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.oneRetentionPercentage);\n          }\n        }\n      }, {\n        title: '2日',\n        key: 'twoRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 1) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.twoRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.twoRetentionPercentage);\n          }\n        }\n      }, {\n        title: '3日',\n        key: 'threeRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 2) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.threeRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.threeRetentionPercentage);\n          }\n        }\n      }, {\n        title: '4日',\n        key: 'fourRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 3) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.fourRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.fourRetentionPercentage);\n          }\n        }\n      }, {\n        title: '5日',\n        key: 'fiveRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 4) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.fiveRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.fiveRetentionPercentage);\n          }\n        }\n      }, {\n        title: '6日',\n        key: 'sixRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 5) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.sixRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.sixRetentionPercentage);\n          }\n        }\n      }, {\n        title: '7日',\n        key: 'sevenRetentionPercentage',\n        align: 'center',\n        width: 80,\n        render: function render(h, params) {\n          if (params.index == 6) {\n            return h('div', {\n              style: {\n                color: '#1C86EE'\n              }\n            }, params.row.sevenRetentionPercentage);\n          } else {\n            return h('div', {}, params.row.sevenRetentionPercentage);\n          }\n        }\n      }, {\n        title: '8日',\n        key: 'eightRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '9日',\n        key: 'nineRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '10日',\n        key: 'tenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '11日',\n        key: 'elevenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '12日',\n        key: 'twelveRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '13日',\n        key: 'thirteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '14日',\n        key: 'fourteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '15日',\n        key: 'fifteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '16日',\n        key: 'sixteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '17日',\n        key: 'seventeenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '18日',\n        key: 'eighteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '19日',\n        key: 'nineteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '20日',\n        key: 'twentyteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '21日',\n        key: 'twentyOneteenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '22日',\n        key: 'twentyTwoRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '23日',\n        key: 'twentyThreeRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '24日',\n        key: 'twentyFourRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '25日',\n        key: 'twentyFiveRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '26日',\n        key: 'twentySixRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '27日',\n        key: 'twentySevenRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '28日',\n        key: 'twentyEightRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '29日',\n        key: 'twentyNineRetentionPercentage',\n        align: 'center',\n        width: 80\n      }, {\n        title: '30日',\n        key: 'thirtyRetentionPercentage',\n        align: 'center',\n        width: 80\n      }],\n      surveyOneLine: {},\n      surveyManyLine: {},\n      davChart: {},\n      chartData: [],\n      map_pieChartD: {},\n      map_pieChartI: {},\n      timeBeginSection: '',\n      timeOverSection: '',\n      startTime: 0,\n      overTime: 0,\n      options: {\n        disabledDate: function disabledDate(date) {\n          return date && date.valueOf() >= Date.now() - 86400000;\n        }\n      }\n    };\n  },\n  methods: {\n    enter: function enter() {\n      this.isShowCondition = true;\n    },\n    leave: function leave() {\n      this.isShowCondition = false;\n    },\n    dayEvent: function dayEvent() {\n      this.timeSection = [];\n      this.startTime = 0;\n      this.overTime = 0;\n      this.init();\n    },\n    init: function init() {\n      if (initData[this.data] == 0) {\n        this.isPayshow = true;\n        this.today = true;\n        this.notoday = false;\n      } else {\n        this.isPayshow = false;\n        this.today = false;\n        this.notoday = true;\n      }\n\n      if (this.data == '7日') {\n        this.dau = '周活跃';\n        this.install = '周新增';\n        this.pay = '周付费(元)';\n      } else if (this.data == '30日') {\n        this.dau = '月活跃';\n        this.install = '月新增';\n        this.pay = '月付费(元)';\n      } else {\n        this.dau = '活跃';\n        this.install = '新增';\n        this.pay = '付费(元)';\n      }\n\n      if (this.getStore('parentId') == 0) {\n        this.isShow = true;\n      } else {\n        this.isShow = false;\n      }\n\n      this.initTable();\n      this.queryDaily();\n    },\n    surveyManyLineChart: function surveyManyLineChart() {\n      /*---------------------多折线图-------------------*/\n      this.surveyManyLine = new G2.Chart({\n        container: 'surveyManyLine',\n        forceFit: true,\n        height: 295\n      });\n      this.surveyManyLine.source(this.handelPayCount, {}); // this.surveyManyLine.scale('value', {\n      //     min: 0,\n      //     alias: '人数',\n      // });\n\n      this.surveyManyLine.scale('time', {\n        tickCount: 10\n      });\n      this.surveyManyLine.axis('time', {\n        label: {\n          formatter: function formatter(val) {\n            return val;\n          }\n        }\n      }); //设置图列居中显示\n\n      this.surveyManyLine.legend({\n        position: 'bottom',\n        //图列位置\n        align: 'center',\n        //图例的对齐方式\n        itemWidth: null\n      });\n      this.surveyManyLine.line().position('time*value').color('type').shape('smooth');\n      this.surveyManyLine.point().position('time*value').color('type').size(4).shape('circle').style({\n        stroke: '#fff',\n        lineWidth: 1\n      });\n      this.surveyManyLine.render();\n    },\n    surveyOneLineChart: function surveyOneLineChart() {\n      /*---------------------单折线图-------------------*/\n      this.surveyOneLine = new G2.Chart({\n        container: 'surveyOneLine',\n        forceFit: true,\n        height: 295\n      });\n      this.surveyOneLine.source(this.datas, {});\n      this.surveyOneLine.scale('value', {\n        min: 0,\n        alias: '-'\n      });\n      this.surveyOneLine.scale('time', {\n        // range: [0, 1]\n        tickCount: 10\n      }); // 坐标轴文本旋转\n\n      this.surveyOneLine.axis('time', {\n        label: {\n          rotate: -Math.PI / 2.5,\n          textAlign: 'end',\n          textBaseline: 'middle'\n        }\n      });\n      this.surveyOneLine.line().position('time*value').color('type').shape('smooth');\n      this.surveyOneLine.point().position('time*value').size(4).shape('circle').color('type').style({\n        stroke: '#fff',\n        lineWidth: 1\n      }); // this.surveyOneLine.area().position('time*value');\n\n      this.surveyOneLine.render(); // return this.surveyOneLine;\n    },\n    roundChart: function roundChart() {\n      var _this = this;\n\n      this.davChart = new G2.Chart({\n        container: 'davChart',\n        // forceFit: true,\n        height: 250 // width: 400,\n\n      });\n      this.davChart.source(this.chartData, {});\n      this.davChart.coord('theta', {\n        radius: 0.75\n      });\n      this.davChart.tooltip({\n        showTitle: false // itemTpl: '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value}</li>'\n\n      });\n      this.davChart.intervalStack().position('dauNum').color('os').label('dauNum', {\n        formatter: function formatter(val, item) {\n          return _this.map_pieChartD[item.point.os] + (item.point.os == 'unknown' ? '' : '|' + item.point.os);\n        }\n      }).tooltip('os*dauNum', function (os, dauNum) {\n        return {\n          name: os // value: dauNum\n\n        };\n      }).style({\n        lineWidth: 1,\n        stroke: '#fff'\n      });\n      this.davChart.render();\n      this.installChart = new G2.Chart({\n        container: 'installChart',\n        // forceFit: true,\n        height: 250 // width: 400,\n\n      });\n      this.installChart.source(this.chartData, {});\n      this.installChart.coord('theta', {\n        radius: 0.75\n      });\n      this.installChart.tooltip({\n        showTitle: false // itemTpl: '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value}</li>'\n\n      });\n      this.installChart.intervalStack().position('installNum').color('os').label('installNum', {\n        formatter: function formatter(val, item) {\n          return _this.map_pieChartI[item.point.os] + (item.point.os == 'unknown' ? '' : '|' + item.point.os);\n        }\n      }).tooltip('os*installNum', function (os, dauNum) {\n        return {\n          name: os // value: dauNum\n\n        };\n      }).style({\n        lineWidth: 1,\n        stroke: '#fff'\n      });\n      this.installChart.render();\n    },\n    showTips: function showTips(info) {\n      var index = info;\n      this.$Message.info(this.tips[info]);\n    },\n    initTable: function initTable() {\n      if (initData[this.data] == 1 || initData[this.data] == 0) {\n        this.columns = this.columnsHeadrReal.concat(this.columnsOver);\n      } else {\n        this.columns = this.columnsHeadr.concat(this.columnsOver);\n      }\n\n      var tables = [];\n      var selection = new Object();\n      selection.type = 'selection';\n      selection.width = 60;\n      selection.align = 'center';\n      selection.fixed = 'left';\n      var index = new Object();\n      index.type = 'index';\n      index.width = 60;\n      index.align = 'center';\n      index.fixed = 'left';\n      var title = new Object();\n      title.title = '日期（星期）';\n      title.key = 'ds';\n      title.width = 150;\n      title.fixed = 'left';\n      tables.push(selection);\n      tables.push(index);\n      tables.push(title);\n    },\n    timeUtil: function timeUtil(time) {\n      return time.getFullYear() + \"-\" + (time.getMonth() + 1 < 10 ? \"0\" + (time.getMonth() + 1) : time.getMonth() + 1) + \"-\" + (time.getDate() < 10 ? \"0\" + time.getDate() : time.getDate());\n    },\n    timeSectionEvent: function timeSectionEvent() {\n      var nowTime = new Date();\n      this.overTime = 0;\n      this.startTime = 0;\n\n      if (nowTime - this.timeSection[0] > 0) {\n        this.startTime = parseInt((nowTime - this.timeSection[0]) / (24 * 60 * 60 * 1000));\n      }\n\n      if (nowTime - this.timeSection[1] > 0) {\n        this.overTime = parseInt((nowTime - this.timeSection[1]) / (24 * 60 * 60 * 1000));\n      }\n\n      this.queryDaily();\n    },\n    queryDaily: function queryDaily() {\n      var _this2 = this;\n\n      var params = {\n        gameid: parseInt(this.getStore('gameid')),\n        deviceType: parseInt(this.isDevice === '用户' ? 0 : 1),\n        osType: initPhone[this.phone],\n        data: parseInt(initData[this.data]),\n        hxType: parseInt(this.dauOrInstall === '活跃' ? 0 : 1)\n      };\n\n      if (this.startTime !== 0) {\n        params.data = this.startTime;\n        this.data = this.startTime;\n      }\n\n      if (this.overTime !== 0) {\n        params.overTime = this.overTime;\n      }\n\n      _queryDaily(params).then(function (e) {\n        if (e.success) {\n          var percentage = [];\n\n          if (e.androidIosProportions.length > 0) {\n            percentage = _this2.androidIosProportions(e.androidIosProportions);\n            _this2.nodata = true;\n          } else {\n            _this2.nodata = false;\n          } //单独处理昨天\n\n\n          var yesterdayPercentage = [];\n\n          if (e.yesterdayAndroidIosProportions.length > 0) {\n            yesterdayPercentage = _this2.androidIosProportions(e.yesterdayAndroidIosProportions);\n\n            _this2.yesTableDataProcess(e.yesterdayShareDaily, yesterdayPercentage);\n          } //周\n\n\n          var weekPercentage = [];\n\n          if (e.weekAndroidIosProportions.length > 0) {\n            weekPercentage = _this2.androidIosProportions(e.weekAndroidIosProportions);\n\n            _this2.weekTableDataProcess(e.weekShareDaily, weekPercentage, initData[_this2.data]);\n          } //月\n\n\n          var monthPercentage = [];\n\n          if (e.monthAndroidIosProportions.length > 0) {\n            monthPercentage = _this2.androidIosProportions(e.monthAndroidIosProportions);\n\n            _this2.monthTableDataProcess(e.monthShareDaily, monthPercentage, initData[_this2.data]);\n          }\n\n          _this2.listData = _this2.tableDataProcess(e.shareDailyResultTypes, percentage, initData[_this2.data]);\n\n          if (e.shareRetentionList.length > 0) {\n            _this2.retentionDataListTable = _this2.saturday(e.shareRetentionList);\n          }\n\n          _this2.datas = _this2.f2DI(e.dauNumOrInstallNumList, initData[_this2.data], _this2.listData, e.yesterdayShareDaily, parseInt(_this2.dauOrInstall === '活跃' ? 0 : 1));\n          _this2.handelPayCount = _this2.makeCavas(_this2.listData, initData[_this2.data], e.yesterdayShareDaily, _this2.isPayType);\n          _this2.chartData = _this2.makePieChart(e.androidIosProportions);\n\n          _this2.surveyOneLine.changeData(_this2.datas);\n\n          _this2.surveyManyLine.changeData(_this2.handelPayCount);\n\n          _this2.davChart.changeData(_this2.chartData);\n\n          _this2.installChart.changeData(_this2.chartData);\n\n          if (_this2.data != '今天') {\n            _this2.weekPercentage[0].value = e.weekStats.wdu;\n            _this2.weekPercentage[1].value = e.weekStats.wnu;\n          }\n\n          if (_this2.data != '今天') {\n            _this2.monthPercentage[0].value = e.monthStats.mdu;\n            _this2.monthPercentage[1].value = e.monthStats.mnu;\n          }\n\n          if (e.shareRetentionList.length > 0) {\n            _this2.retentionDataList[0].ds = _this2.retentionDataListTable[0].ds;\n            _this2.retentionDataList[0].oneRetentionPercentage = _this2.retentionDataListTable[0].oneRetentionPercentage;\n\n            if (e.shareRetentionList.length >= 1) {\n              _this2.retentionDataList[1].ds = _this2.retentionDataListTable[1].ds;\n              _this2.retentionDataList[1].oneRetentionPercentage = _this2.retentionDataListTable[1].oneRetentionPercentage;\n              _this2.retentionDataList[1].twoRetentionPercentage = _this2.retentionDataListTable[1].twoRetentionPercentage;\n            }\n\n            if (e.shareRetentionList.length >= 2) {\n              _this2.retentionDataList[2].ds = _this2.retentionDataListTable[2].ds;\n              _this2.retentionDataList[2].oneRetentionPercentage = _this2.retentionDataListTable[2].oneRetentionPercentage;\n              _this2.retentionDataList[2].twoRetentionPercentage = _this2.retentionDataListTable[2].twoRetentionPercentage;\n              _this2.retentionDataList[2].threeRetentionPercentage = _this2.retentionDataListTable[2].threeRetentionPercentage;\n            }\n          }\n        }\n      });\n    },\n    monthTableDataProcess: function monthTableDataProcess(data, info, date) {\n      if (data.length > 0) {\n        var activeNum = 0,\n            newIntall = 0,\n            payTotal = 0,\n            payCount = 0;\n        data.forEach(function (item) {\n          activeNum += item.dauNum;\n          newIntall += item.installNum;\n          payTotal += item.payAmount;\n          payCount += item.payCount;\n        });\n\n        if (info.length > 0) {\n          var _realtimeArray = [];\n          var realtimeObject1 = new Object();\n          realtimeObject1.title = '活跃';\n          realtimeObject1.value = activeNum;\n          realtimeObject1.payRate = info[1];\n          realtimeObject1.payARPU = info[0];\n          var realtimeObject2 = new Object();\n          realtimeObject2.title = '新增';\n          realtimeObject2.payRate = info[3];\n          realtimeObject2.payARPU = info[2];\n          realtimeObject2.value = newIntall;\n          var realtimeObject3 = new Object();\n          realtimeObject3.title = '付费';\n          realtimeObject3.value = payTotal / this.getStore(\"currencyRate\");\n          realtimeObject3.payRate = activeNum == 0 ? 0 : (payCount * 100 / activeNum).toFixed(2) + '%';\n          realtimeObject3.payARPU = activeNum == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / activeNum).toFixed(2);\n          realtimeObject3.payARPPU = payCount == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / payCount).toFixed(2);\n\n          _realtimeArray.push(realtimeObject1);\n\n          _realtimeArray.push(realtimeObject2);\n\n          _realtimeArray.push(realtimeObject3);\n\n          this.monthPercentage = _realtimeArray;\n        } else {\n          var realtimeArrayss = [];\n\n          var _realtimeObject = new Object();\n\n          _realtimeObject.title = '活跃';\n          _realtimeObject.value = '';\n          _realtimeObject.payRate = '';\n          _realtimeObject.payARPU = '';\n\n          var _realtimeObject2 = new Object();\n\n          _realtimeObject2.title = '新增';\n          _realtimeObject2.payRate = '';\n          _realtimeObject2.payARPU = '';\n          _realtimeObject2.value = '';\n\n          var _realtimeObject3 = new Object();\n\n          _realtimeObject3.title = '付费';\n          _realtimeObject3.value = '';\n          _realtimeObject3.payRate = '';\n          _realtimeObject3.payARPU = '';\n          _realtimeObject3.payARPPU = '';\n          realtimeArrayss.push(_realtimeObject);\n          realtimeArrayss.push(_realtimeObject2);\n          realtimeArrayss.push(_realtimeObject3);\n          this.monthPercentage = realtimeArrayss;\n        }\n      } else {\n        var realtimeArrays = [];\n\n        var _realtimeObject4 = new Object();\n\n        _realtimeObject4.title = '活跃';\n        _realtimeObject4.value = '';\n        _realtimeObject4.payRate = '';\n        _realtimeObject4.payARPU = '';\n\n        var _realtimeObject5 = new Object();\n\n        _realtimeObject5.title = '新增';\n        _realtimeObject5.payRate = '';\n        _realtimeObject5.payARPU = '';\n        _realtimeObject5.value = '';\n\n        var _realtimeObject6 = new Object();\n\n        _realtimeObject6.title = '付费';\n        _realtimeObject6.value = '';\n        _realtimeObject6.payRate = '';\n        _realtimeObject6.payARPU = '';\n        _realtimeObject6.payARPPU = '';\n        realtimeArray.push(_realtimeObject4);\n        realtimeArray.push(_realtimeObject5);\n        realtimeArray.push(_realtimeObject6);\n        this.monthPercentage = realtimeArrays;\n      }\n    },\n    weekTableDataProcess: function weekTableDataProcess(data, info, date) {\n      if (data.length > 0) {\n        var activeNum = 0,\n            newIntall = 0,\n            payTotal = 0,\n            payCount = 0;\n        data.forEach(function (item) {\n          activeNum += item.dauNum;\n          newIntall += item.installNum;\n          payTotal += item.payAmount;\n          payCount += item.payCount;\n        });\n\n        if (info.length > 0) {\n          var _realtimeArray2 = [];\n          var realtimeObject1 = new Object();\n          realtimeObject1.title = '活跃';\n          realtimeObject1.value = activeNum;\n          realtimeObject1.payRate = info[1];\n          realtimeObject1.payARPU = info[0];\n          var realtimeObject2 = new Object();\n          realtimeObject2.title = '新增';\n          realtimeObject2.payRate = info[3];\n          realtimeObject2.payARPU = info[2];\n          realtimeObject2.value = newIntall;\n          var realtimeObject3 = new Object();\n          realtimeObject3.title = '付费';\n          realtimeObject3.value = payTotal / this.getStore(\"currencyRate\");\n          realtimeObject3.payRate = activeNum == 0 ? 0 : (payCount * 100 / activeNum).toFixed(2) + '%';\n          realtimeObject3.payARPU = activeNum == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / activeNum).toFixed(2);\n          realtimeObject3.payARPPU = payCount == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / payCount).toFixed(2);\n\n          _realtimeArray2.push(realtimeObject1);\n\n          _realtimeArray2.push(realtimeObject2);\n\n          _realtimeArray2.push(realtimeObject3);\n\n          this.weekPercentage = _realtimeArray2;\n        } else {\n          var realtimeArrayss = [];\n\n          var _realtimeObject7 = new Object();\n\n          _realtimeObject7.title = '活跃';\n          _realtimeObject7.value = '';\n          _realtimeObject7.payRate = '';\n          _realtimeObject7.payARPU = '';\n\n          var _realtimeObject8 = new Object();\n\n          _realtimeObject8.title = '新增';\n          _realtimeObject8.payRate = '';\n          _realtimeObject8.payARPU = '';\n          _realtimeObject8.value = '';\n\n          var _realtimeObject9 = new Object();\n\n          _realtimeObject9.title = '付费';\n          _realtimeObject9.value = '';\n          _realtimeObject9.payRate = '';\n          _realtimeObject9.payARPU = '';\n          _realtimeObject9.payARPPU = '';\n          realtimeArrayss.push(_realtimeObject7);\n          realtimeArrayss.push(_realtimeObject8);\n          realtimeArrayss.push(_realtimeObject9);\n          this.weekPercentage = realtimeArrayss;\n        }\n      } else {\n        var realtimeArrays = [];\n\n        var _realtimeObject10 = new Object();\n\n        _realtimeObject10.title = '活跃';\n        _realtimeObject10.value = '';\n        _realtimeObject10.payRate = '';\n        _realtimeObject10.payARPU = '';\n\n        var _realtimeObject11 = new Object();\n\n        _realtimeObject11.title = '新增';\n        _realtimeObject11.payRate = '';\n        _realtimeObject11.payARPU = '';\n        _realtimeObject11.value = '';\n\n        var _realtimeObject12 = new Object();\n\n        _realtimeObject12.title = '付费';\n        _realtimeObject12.value = '';\n        _realtimeObject12.payRate = '';\n        _realtimeObject12.payARPU = '';\n        _realtimeObject12.payARPPU = '';\n        realtimeArray.push(_realtimeObject10);\n        realtimeArray.push(_realtimeObject11);\n        realtimeArray.push(_realtimeObject12);\n        this.weekPercentage = realtimeArrays;\n      }\n    },\n    yesTableDataProcess: function yesTableDataProcess(data, info) {\n      if (data.length > 0) {\n        var activeNum = 0,\n            newIntall = 0,\n            payTotal = 0,\n            payCount = 0;\n        data.forEach(function (item) {\n          activeNum += item.dauNum;\n          newIntall += item.installNum;\n          payTotal += item.payAmount;\n          payCount += item.payCount;\n        });\n\n        if (info.length > 0) {\n          var _realtimeArray3 = [];\n          var realtimeObject1 = new Object();\n          realtimeObject1.title = '活跃';\n          realtimeObject1.value = activeNum;\n          realtimeObject1.payRate = info[1];\n          realtimeObject1.payARPU = info[0];\n          var realtimeObject2 = new Object();\n          realtimeObject2.title = '新增';\n          realtimeObject2.payRate = info[3];\n          realtimeObject2.payARPU = info[2];\n          realtimeObject2.value = newIntall;\n          var realtimeObject3 = new Object();\n          realtimeObject3.title = '付费';\n          realtimeObject3.value = payTotal / this.getStore(\"currencyRate\");\n          realtimeObject3.payRate = activeNum == 0 ? 0 : (payCount * 100 / activeNum).toFixed(2) + '%';\n          realtimeObject3.payARPU = activeNum == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / activeNum).toFixed(2);\n          realtimeObject3.payARPPU = payCount == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / payCount).toFixed(2);\n\n          _realtimeArray3.push(realtimeObject1);\n\n          _realtimeArray3.push(realtimeObject2);\n\n          _realtimeArray3.push(realtimeObject3);\n\n          this.yesterdayPercentage = _realtimeArray3;\n        } else {\n          var realtimeArrayss = [];\n\n          var _realtimeObject13 = new Object();\n\n          _realtimeObject13.title = '活跃';\n          _realtimeObject13.value = '';\n          _realtimeObject13.payRate = '';\n          _realtimeObject13.payARPU = '';\n\n          var _realtimeObject14 = new Object();\n\n          _realtimeObject14.title = '新增';\n          _realtimeObject14.payRate = '';\n          _realtimeObject14.payARPU = '';\n          _realtimeObject14.value = '';\n\n          var _realtimeObject15 = new Object();\n\n          _realtimeObject15.title = '付费';\n          _realtimeObject15.value = '';\n          _realtimeObject15.payRate = '';\n          _realtimeObject15.payARPU = '';\n          _realtimeObject15.payARPPU = '';\n          realtimeArrayss.push(_realtimeObject13);\n          realtimeArrayss.push(_realtimeObject14);\n          realtimeArrayss.push(_realtimeObject15);\n          this.yesterdayPercentage = realtimeArrayss;\n        }\n      } else {\n        var realtimeArrays = [];\n\n        var _realtimeObject16 = new Object();\n\n        _realtimeObject16.title = '活跃';\n        _realtimeObject16.value = '';\n        _realtimeObject16.payRate = '';\n        _realtimeObject16.payARPU = '';\n\n        var _realtimeObject17 = new Object();\n\n        _realtimeObject17.title = '新增';\n        _realtimeObject17.payRate = '';\n        _realtimeObject17.payARPU = '';\n        _realtimeObject17.value = '';\n\n        var _realtimeObject18 = new Object();\n\n        _realtimeObject18.title = '付费';\n        _realtimeObject18.value = '';\n        _realtimeObject18.payRate = '';\n        _realtimeObject18.payARPU = '';\n        _realtimeObject18.payARPPU = '';\n        realtimeArray.push(_realtimeObject16);\n        realtimeArray.push(_realtimeObject17);\n        realtimeArray.push(_realtimeObject18);\n        this.yesterdayPercentage = realtimeArrays;\n      }\n    },\n    makePieChart: function makePieChart(info) {\n      var dauNumTotal = 0,\n          installNumTotal = 0;\n      info.forEach(function (item) {\n        dauNumTotal += item.dauNum;\n        installNumTotal += item.installNum;\n      });\n      var map_pieChartD = {},\n          map_pieChartI = {};\n      info.map(function (obj) {\n        map_pieChartD[obj.os] = (obj.dauNum / dauNumTotal * 100).toFixed(2) + '%';\n        map_pieChartI[obj.os] = (obj.installNum / installNumTotal * 100).toFixed(2) + '%';\n      });\n      this.map_pieChartD = map_pieChartD;\n      this.map_pieChartI = map_pieChartI;\n      return info;\n    },\n    androidIosProportions: function androidIosProportions(data) {\n      if (data) {\n        var dauNumSum = 0,\n            installNumSum = 0,\n            androidDauNum = 0,\n            androidInstallNum = 0,\n            iosDauNum = 0,\n            iosInstallNum = 0,\n            info = [];\n        data.forEach(function (item) {\n          dauNumSum += item.dauNum;\n          installNumSum += item.installNum;\n\n          if (item.os == 'android' || item.os == 'Android') {\n            androidDauNum += item.dauNum;\n            androidInstallNum += item.installNum;\n          }\n\n          if (item.os == 'iOS') {\n            iosDauNum += item.dauNum;\n            iosInstallNum += item.installNum;\n          }\n        });\n        info.push((androidDauNum / dauNumSum * 100).toFixed(2) + '%');\n        info.push((iosDauNum / dauNumSum * 100).toFixed(2) + '%');\n        info.push((androidInstallNum / installNumSum * 100).toFixed(2) + '%');\n        info.push((iosInstallNum / installNumSum * 100).toFixed(2) + '%');\n        return info;\n      }\n    },\n    tableDataProcess: function tableDataProcess(data, info, date) {\n      var _this3 = this;\n\n      if (data.length > 0) {\n        var activeNum = 0,\n            newIntall = 0,\n            payTotal = 0,\n            payCount = 0;\n        data.forEach(function (item) {\n          activeNum += item.dauNum;\n          newIntall += item.installNum;\n          payTotal += item.payAmount;\n          payCount += item.payCount;\n          item.ds = _this3.weekFunction(item.ds);\n          item.payAmount = item.payAmount / _this3.getStore(\"currencyRate\");\n          item.payRate = item.dauNum == 0 ? 0 : (item.payCount * 100 / item.dauNum).toFixed(2);\n          item.ARPU = item.dauNum == 0 ? 0 : (item.payAmount / item.dauNum).toFixed(2);\n          item.ARPPU = item.payCount == 0 ? 0 : (item.payAmount / item.payCount).toFixed(2);\n          item.payInstallAmount = item.payInstallAmount / _this3.getStore(\"currencyRate\");\n          item.payInstallRate = item.installNum == 0 ? 0 : (item.payInstallCount * 100 / item.installNum).toFixed(2);\n          item.payInstallARPU = item.installNum == 0 ? 0 : (item.payInstallAmount / item.installNum).toFixed(2);\n          item.payInstallARPPU = item.payInstallCount == 0 ? 0 : (item.payInstallAmount / item.payInstallCount).toFixed(2);\n        });\n\n        if (info.length > 0) {\n          var _realtimeArray4 = [];\n          var realtimeObject1 = new Object();\n          realtimeObject1.title = '活跃';\n          realtimeObject1.value = activeNum;\n          realtimeObject1.payRate = info[1];\n          realtimeObject1.payARPU = info[0];\n          var realtimeObject2 = new Object();\n          realtimeObject2.title = '新增';\n          realtimeObject2.payRate = info[3];\n          realtimeObject2.payARPU = info[2];\n          realtimeObject2.value = newIntall;\n          var realtimeObject3 = new Object();\n          realtimeObject3.title = '付费';\n          realtimeObject3.value = payTotal / this.getStore(\"currencyRate\");\n          realtimeObject3.payRate = activeNum == 0 ? 0 : (payCount * 100 / activeNum).toFixed(2) + '%';\n          realtimeObject3.payARPU = activeNum == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / activeNum).toFixed(2);\n          realtimeObject3.payARPPU = payCount == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / payCount).toFixed(2);\n\n          _realtimeArray4.push(realtimeObject1);\n\n          _realtimeArray4.push(realtimeObject2);\n\n          _realtimeArray4.push(realtimeObject3);\n\n          this.realtimeStatis = _realtimeArray4;\n        } else {\n          var realtimeArrayss = [];\n\n          var _realtimeObject19 = new Object();\n\n          _realtimeObject19.title = '活跃';\n          _realtimeObject19.value = '';\n          _realtimeObject19.payRate = '';\n          _realtimeObject19.payARPU = '';\n\n          var _realtimeObject20 = new Object();\n\n          _realtimeObject20.title = '新增';\n          _realtimeObject20.payRate = '';\n          _realtimeObject20.payARPU = '';\n          _realtimeObject20.value = '';\n\n          var _realtimeObject21 = new Object();\n\n          _realtimeObject21.title = '付费';\n          _realtimeObject21.value = '';\n          _realtimeObject21.payRate = '';\n          _realtimeObject21.payARPU = '';\n          _realtimeObject21.payARPPU = '';\n          realtimeArrayss.push(_realtimeObject19);\n          realtimeArrayss.push(_realtimeObject20);\n          realtimeArrayss.push(_realtimeObject21);\n          this.realtimeStatis = realtimeArrayss;\n        }\n      } else {\n        var realtimeArrays = [];\n\n        var _realtimeObject22 = new Object();\n\n        _realtimeObject22.title = '活跃';\n        _realtimeObject22.value = '';\n        _realtimeObject22.payRate = '';\n        _realtimeObject22.payARPU = '';\n\n        var _realtimeObject23 = new Object();\n\n        _realtimeObject23.title = '新增';\n        _realtimeObject23.payRate = '';\n        _realtimeObject23.payARPU = '';\n        _realtimeObject23.value = '';\n\n        var _realtimeObject24 = new Object();\n\n        _realtimeObject24.title = '付费';\n        _realtimeObject24.value = '';\n        _realtimeObject24.payRate = '';\n        _realtimeObject24.payARPU = '';\n        _realtimeObject24.payARPPU = '';\n        realtimeArray.push(_realtimeObject22);\n        realtimeArray.push(_realtimeObject23);\n        realtimeArray.push(_realtimeObject24);\n        this.realtimeStatis = realtimeArrays;\n      }\n\n      return data;\n    },\n    saturday: function saturday(data) {\n      if (data) {\n        data.forEach(function (item, index) {\n          if (index === 0) {\n            item.cellClassName = {\n              ds: 'demo-table-info-cell-age'\n            };\n          }\n\n          if (index === 1) {\n            item.cellClassName = {\n              ds: 'demo-table-info-cell-age'\n            };\n          }\n\n          var week = new Date(item.ds);\n          var dateweek = week.getDay();\n          var i = 7 - dateweek;\n          var saturdays = [];\n\n          switch (i) {\n            case 7:\n              saturdays = ['oneRetentionPercentage', 'eightRetentionPercentage', 'fifteenRetentionPercentage'];\n              item.ds = item.ds + \"(七)\";\n              break;\n\n            case 1:\n              saturdays = ['sevenRetentionPercentage', 'fourteenRetentionPercentage'];\n              item.ds = item.ds + \"(六)\";\n              break;\n\n            case 2:\n              saturdays = ['sixRetentionPercentage', 'thirteenRetentionPercentage'];\n              item.ds = item.ds + \"(五)\";\n              break;\n\n            case 3:\n              saturdays = ['fiveRetentionPercentage', 'twelveRetentionPercentage'];\n              item.ds = item.ds + \"(四)\";\n              break;\n\n            case 4:\n              saturdays = ['fourRetentionPercentage', 'elevenRetentionPercentage'];\n              item.ds = item.ds + \"(三)\";\n              break;\n\n            case 5:\n              saturdays = ['threeRetentionPercentage', 'tenRetentionPercentage'];\n              item.ds = item.ds + \"(二)\";\n              break;\n\n            case 6:\n              saturdays = ['twoRetentionPercentage', 'nineRetentionPercentage'];\n              item.ds = item.ds + \"(一)\";\n              break;\n\n            default:\n          }\n\n          ;\n          item.special = saturdays;\n          item.oneSpecial = saturdays[0];\n          item.twoSpecial = saturdays[1];\n        });\n        return data;\n      }\n    },\n    compare: function compare(obj1, obj2) {\n      var val1 = obj1.dayOfHour;\n      var val2 = obj2.dayOfHour;\n\n      if (val1 < val2) {\n        return -1;\n      } else if (val1 > val2) {\n        return 1;\n      } else {\n        return 0;\n      }\n    },\n    f2DI: function f2DI(data, date, listData, shareDailyResultTypess, type) {\n      var datas = [];\n      var mapDef = new Map();\n\n      if (date == 0) {\n        for (var i = 0; i < 24; i++) {\n          var object = new Object();\n          object.type = '昨日';\n          object.value = 0;\n          object.time = i + '时';\n          mapDef.set(i + '时', object);\n        }\n\n        shareDailyResultTypess.forEach(function (info) {\n          var item = new Object();\n\n          if (type == 0) {\n            item.value = info.dauNum;\n          } else {\n            item.value = info.installNum;\n          }\n\n          item.time = info.dayOfHour + '时';\n          item.type = '昨日';\n          mapDef.set(info.dayOfHour + '时', item); // datas.push(item);\n        });\n\n        var defmap = _toConsumableArray(mapDef.values());\n\n        for (var index in defmap) {\n          datas.push(defmap[index]);\n        }\n      }\n\n      if (date == 0 || date == 1) {\n        listData.sort(this.compare);\n        listData.forEach(function (info) {\n          var item = new Object();\n\n          if (type == 0) {\n            item.value = info.dauNum;\n          } else {\n            item.value = info.installNum;\n          }\n\n          item.time = info.dayOfHour + '时';\n\n          if (date == 0) {\n            item.type = '今日';\n          }\n\n          if (date == 1) {\n            item.type = '昨日';\n          }\n\n          datas.push(item);\n        });\n      } else {\n        listData.forEach(function (item, index) {\n          var info = new Object();\n          info.time = item.ds.substr(5, 5);\n\n          if (type == 0) {\n            info.value = item.dauNum;\n          } else {\n            info.value = item.installNum;\n          }\n\n          if (date == 7) {\n            info.type = '7日';\n          }\n\n          if (date == 30) {\n            info.type = '30日';\n          }\n\n          datas.push(info);\n        });\n      }\n\n      if (date == \"7\" || date == \"30\") {\n        //该方法会改变原来的数组，而不会创建新的数组\n        datas.reverse();\n      }\n\n      return datas;\n    },\n    getTime: function getTime(index) {\n      var myDate = new Date();\n      myDate.setTime(myDate.getTime() - 24 * 60 * 60 * 1000 * (index + 1));\n      var dateTime = myDate.getMonth() + 1 + \"-\" + myDate.getDate();\n      return dateTime;\n    },\n    weekFunction: function weekFunction(ds) {\n      var week = new Date(ds);\n      var dateweek = week.getDay();\n      var i = 7 - dateweek;\n\n      switch (i) {\n        case 7:\n          ds = ds + \"(七)\";\n          break;\n\n        case 1:\n          ds = ds + \"(六)\";\n          break;\n\n        case 2:\n          ds = ds + \"(五)\";\n          break;\n\n        case 3:\n          ds = ds + \"(四)\";\n          break;\n\n        case 4:\n          ds = ds + \"(三)\";\n          break;\n\n        case 5:\n          ds = ds + \"(二)\";\n          break;\n\n        case 6:\n          ds = ds + \"(一)\";\n          break;\n\n        default:\n      }\n\n      return ds;\n    },\n    makeCavas: function makeCavas(data, date, yesterdayShareDaily, isPayType) {\n      if (data) {\n        if (date == 0) {\n          data.sort(function (a, b) {\n            return b.dayOfHour - a.dayOfHour;\n          });\n        }\n\n        var handelPayCount = [];\n        var yeshandelPayCount = [];\n\n        if (date == 0) {\n          var yesDef = new Map();\n\n          for (var i = 0; i < 24; i++) {\n            var infopayCount = new Object();\n            infopayCount.time = i + '时';\n            infopayCount.value = 0;\n            infopayCount.type = '昨天';\n            yesDef.set(i + '时', infopayCount);\n          }\n\n          data.forEach(function (item, index) {\n            var infopayCount = new Object();\n            infopayCount.time = item.dayOfHour + '时';\n\n            if (parseInt(isPayType) == 0) {\n              infopayCount.value = item.payTimes;\n            } else if (parseInt(isPayType) == 1) {\n              infopayCount.value = item.payAmount;\n            } else {\n              infopayCount.value = item.payCount;\n            }\n\n            infopayCount.type = '今天';\n            handelPayCount.push(infopayCount);\n          });\n          yesterdayShareDaily.forEach(function (item, index) {\n            var infopayCount = new Object();\n            infopayCount.time = item.dayOfHour + '时';\n\n            if (parseInt(isPayType) == 0) {\n              infopayCount.value = item.payTimes;\n            } else if (parseInt(isPayType) == 1) {\n              infopayCount.value = item.payAmount;\n            } else {\n              infopayCount.value = item.payCount;\n            }\n\n            infopayCount.type = '昨天';\n            yesDef.set(infopayCount.time, infopayCount); // yeshandelPayCount.push(infopayCount);\n          });\n\n          var mapValue = _toConsumableArray(yesDef.values());\n\n          for (var _i = 0; _i < mapValue.length; _i++) {\n            yeshandelPayCount.push(mapValue[_i]);\n          }\n\n          yeshandelPayCount.reverse();\n          handelPayCount = handelPayCount.concat(yeshandelPayCount);\n        } else {\n          data.forEach(function (item, index) {\n            var infopayCount = new Object();\n\n            if (date == 1) {\n              infopayCount.time = item.dayOfHour + '时';\n            } else {\n              infopayCount.time = item.ds.substr(5, 5);\n            }\n\n            infopayCount.value = item.payCount;\n            infopayCount.type = '付费人数';\n            handelPayCount.push(infopayCount);\n            var infopayAmount = new Object();\n\n            if (date == 1) {\n              infopayAmount.time = item.dayOfHour + '时';\n            } else {\n              infopayAmount.time = item.ds.substr(5, 5);\n            }\n\n            infopayAmount.value = item.payAmount;\n            infopayAmount.type = '付费金额';\n            handelPayCount.push(infopayAmount);\n            var infopayTimes = new Object();\n\n            if (date == 1) {\n              infopayTimes.time = item.dayOfHour + '时';\n            } else {\n              infopayTimes.time = item.ds.substr(5, 5);\n            }\n\n            infopayTimes.value = item.payTimes;\n            infopayTimes.type = '付费次数';\n            handelPayCount.push(infopayTimes); // let infopayInstallCount = new Object();\n            // if (date != 7 && date != 30) {\n            //     infopayInstallCount.time = item.dayOfHour + '时';\n            // } else {\n            //     infopayInstallCount.time = (item.ds).substr(5, 5);\n            // }\n            // infopayInstallCount.value = item.payInstallCount;\n            // infopayInstallCount.type = '安装付费人数';\n            // handelPayCount.push(infopayInstallCount);\n            // let infopayInstallAmount = new Object();\n            // if (date != 7 && date != 30) {\n            //     infopayInstallAmount.time = item.dayOfHour + '时';\n            // } else {\n            //     infopayInstallAmount.time = (item.ds).substr(5, 5);\n            // }\n            // infopayInstallAmount.value = item.payInstallAmount;\n            // infopayInstallAmount.type = '安装付费金额';\n            // handelPayCount.push(infopayInstallAmount);\n            // let infoPayInstallTimes = new Object();\n            // if (date != 7 && date != 30) {\n            //     infoPayInstallTimes.time = item.dayOfHour + '时';\n            // } else {\n            //     infoPayInstallTimes.time = (item.ds).substr(5, 5);\n            // }\n            // infoPayInstallTimes.value = item.payInstallTimes;\n            // infoPayInstallTimes.type = '安装付费次数';\n            // handelPayCount.push(infoPayInstallTimes);\n          });\n        }\n\n        if (date == 7 || date == 30 || date == 0) {\n          handelPayCount.reverse();\n        }\n\n        return handelPayCount;\n      }\n    },\n    rowClassName: function rowClassName(row, index) {\n      if (index === 1) {\n        return 'demo-table-info-cell-age';\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.surveyOneLineChart();\n    this.surveyManyLineChart();\n    this.roundChart();\n    this.init();\n  }\n};",null]}