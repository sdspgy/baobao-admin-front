{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportdata/reportDevice/reportDevice.vue?vue&type=style&index=0&id=36cefbd0&scoped=true&lang=css&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportdata/reportDevice/reportDevice.vue","mtime":1586836225602},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.deviceG2 {\n\tpadding: 0px 0px 0px 50px;\n\tborder-radius: 10px 10px 10px 10px;\n\tbackground-color: #fff;\n\twidth: 80%;\n\tmargin: 10px 10px;\n}\n",{"version":3,"sources":["reportDevice.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reportDevice.vue","sourceRoot":"src/views/reportdata/reportDevice","sourcesContent":["<template>\n\t<div style=\"background-color:#fff;\">\n\t\t<RadioGroup style=\"margin-left: 10px\" type=\"button\" v-model=\"type\" @on-change=\"init()\">\n\t\t\t<Radio label=\"0\" style=\"margin: 10px 10px\"><span>安装</span></Radio>\n\t\t\t<Radio label=\"1\" style=\"margin: 10px 10px\"><span>活跃</span></Radio>\n\t\t</RadioGroup>\n\t\t<!--时间-->\n\t\t<div>\n\t\t\t<RadioGroup  style=\"margin-left: 10px\" v-model=\"data\" type=\"button\" @on-change=\"init()\">\n\t\t\t\t<Radio style=\"margin: 10px 10px\" label=\"1\">昨天</Radio>\n\t\t\t\t<Radio style=\"margin: 10px 10px\" label=\"7\">7日</Radio>\n\t\t\t\t<Radio style=\"margin: 10px 10px\" label=\"30\">30日</Radio>\n\t\t\t</RadioGroup>\n\t\t</div>\n\t\t<div class=\"deviceG2\"><div id=\"deviceG2\"></div></div>\n\t</div>\n</template>\n\n<script>\nimport { queryDevice } from '@/api/index';\nimport { weekChange } from '@/libs/changeWeek';\n\nexport default {\n\tname: 'reportDevice',\n\tdata() {\n\t\treturn {\n\t\t\ttype: '0',\n\t\t\tchartDevice: [],\n\t\t\tG2Device: {},\n\t\t\tdata: \"7\"\n\t\t};\n\t},\n\tmethods: {\n\t\tinit() {\n\t\t\tthis.queryDevices();\n\t\t},\n\t\tqueryDevices() {\n\t\t\tlet params = {\n\t\t\t\tgameid: parseInt(this.getStore('gameid')),\n\t\t\t\ttype: parseInt(this.type),\n\t\t\t\tdata: parseInt(this.data)\n\t\t\t};\n\t\t\tqueryDevice(params).then(e => {\n\t\t\t\tif (e.success) {\n\t\t\t\t\tlet devices = e.deviceDis;\n\t\t\t\t\tlet dailyInstallNum = e.shareDailyResultTypes[0].installNum,\n\t\t\t\t\t\tdailyDauNum = e.shareDailyResultTypes[0].dauNum;\n\t\t\t\t\tlet chartDevice = [];\n\t\t\t\t\tlet i = devices.length > 30 ? 30 : devices.length;\n\t\t\t\t\tif (this.type == '0') {\n\t\t\t\t\t\tfor (; i > 0; i--) {\n\t\t\t\t\t\t\tlet deviceObj = new Object();\n\t\t\t\t\t\t\tdeviceObj.name = devices[i].device;\n\t\t\t\t\t\t\tdeviceObj.value = devices[i].deviceInstallNumbers;\n\t\t\t\t\t\t\tdeviceObj.precentage = dailyInstallNum == 0 ? 0 : (devices[i].deviceInstallNumbers / dailyInstallNum).toFixed(2);\n\t\t\t\t\t\t\tchartDevice.push(deviceObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (; i > 0; i--) {\n\t\t\t\t\t\t\tlet deviceObj = new Object();\n\t\t\t\t\t\t\tdeviceObj.name = devices[i].device;\n\t\t\t\t\t\t\tdeviceObj.value = devices[i].deviceDauNumbers;\n\t\t\t\t\t\t\tdeviceObj.precentage = dailyDauNum == 0 ? 0 : (devices[i].deviceDauNumbers / dailyDauNum).toFixed(2);\n\t\t\t\t\t\t\tchartDevice.push(deviceObj);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.chartDevice = chartDevice.sort(this.compares);\n\t\t\t\t\tthis.G2Device.changeData(this.chartDevice);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcompares(obj1, obj2) {\n\t\t\tvar val1 = obj1.value;\n\t\t\tvar val2 = obj2.value;\n\t\t\tif (val1 < val2) {\n\t\t\t\treturn 1;\n\t\t\t} else if (val1 > val2) {\n\t\t\t\treturn -1;\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\tdefaultG2() {\n\t\t\tthis.G2Device = new G2.Chart({\n\t\t\t\tcontainer: 'deviceG2',\n\t\t\t\tforceFit: true,\n\t\t\t\twidth: 800,\n\t\t\t\theight: 400\n\t\t\t});\n\t\t\tthis.G2Device.source(this.chartDevice, {});\n\t\t\tthis.G2Device.coord();\n\t\t\t// 坐标轴文本旋转\n\t\t\tthis.G2Device.axis('name', {\n\t\t\t\tlabel: {\n\t\t\t\t\trotate: Math.PI / 0.3,\n\t\t\t\t\ttextAlign: 'end',\n\t\t\t\t\ttextBaseline: 'middle'\n\t\t\t\t}\n\t\t\t});\n\t\t\t// this.G2Device.tooltip({\n\t\t\t//     // showCrosshairs: true, //纵坐标线\n\t\t\t//     // showItemMarker: false, //去小原点\n\t\t\t//     onShow: function onShow(ev) {\n\t\t\t//         const items = ev.items;\n\t\t\t//         items[0].name = null;\n\t\t\t//         items[0].name = items[0].title;\n\t\t\t//         items[0].value = '' + items[0].value + ';' + items[0].origin.precentage + '%';\n\t\t\t//     },\n\t\t\t//     offsetX: -30\n\t\t\t// });\n\t\t\tthis.G2Device.interval()\n\t\t\t\t.position('name*value')\n\t\t\t\t.label('value', {\n\t\t\t\t\toffset: 10,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tfill: '#595959',\n\t\t\t\t\t\tfontSize: 12\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tthis.G2Device.scale('value', {\n\t\t\t\talias: '数量'\n\t\t\t});\n\t\t\t// 柱状图添加文本\n\t\t\t// this.chartDevice.forEach(function (obj) {\n\t\t\t//     this.G2Device.guide().text({\n\t\t\t//         position: [obj.name, obj.value],\n\t\t\t//         content: obj.value,\n\t\t\t//         style: {\n\t\t\t//             textAlign: 'center',\n\t\t\t//             textBaseline: 'bottom'\n\t\t\t//         },\n\t\t\t//         offsetY: 5,\n\t\t\t//         offsetX: 7,\n\t\t\t//     });\n\t\t\t// });\n\t\t\tthis.G2Device.render();\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.defaultG2();\n\t\tthis.init();\n\t}\n};\n</script>\n\n<style scoped>\n.deviceG2 {\n\tpadding: 0px 0px 0px 50px;\n\tborder-radius: 10px 10px 10px 10px;\n\tbackground-color: #fff;\n\twidth: 80%;\n\tmargin: 10px 10px;\n}\n</style>\n"]}]}