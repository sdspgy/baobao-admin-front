{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-85777044\",\"chunk-8d965cd6\"],{\"0a9c\":function(t,e,i){\"use strict\";var a=i(\"d985\"),n=i.n(a);n.a},\"16a8\":function(t,e,i){\"use strict\";var a=i(\"7e18\"),n=i.n(a);n.a},\"3ac2\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"titleHead\"},[t._v(t._s(t.inputName))])},n=[],s={name:\"TitleHead\",props:{inputName:String,required:!0},components:{},data:function(){return{}},mounted:function(){},methods:{}},l=s,r=(i(\"16a8\"),i(\"2877\")),o=Object(r[\"a\"])(l,a,n,!1,null,\"111682f2\",null);e[\"default\"]=o.exports},\"53a9\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticStyle:{\"background-color\":\"#fff\"}},[i(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.isShow,expression:\"isShow\"}]},[i(\"RadioGroup\",{attrs:{type:\"button\"},on:{\"on-change\":function(e){return t.init()}},model:{value:t.isDevice,callback:function(e){t.isDevice=e},expression:\"isDevice\"}},[i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"用户\"}}),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"设备\"}})],1)],1),i(\"div\",[i(\"RadioGroup\",{attrs:{type:\"button\"},on:{\"on-change\":function(e){return t.init()}},model:{value:t.phone,callback:function(e){t.phone=e},expression:\"phone\"}},[i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"ALL\"}},[i(\"span\",[t._v(\"ALL\")])]),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"ANDROID\"}},[i(\"span\",[t._v(\"ANDROID\")])]),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"IOS\"}},[i(\"span\",[t._v(\"IOS\")])])],1)],1),i(\"div\",[i(\"RadioGroup\",{attrs:{type:\"button\"},on:{\"on-change\":function(e){return t.init()}},model:{value:t.data,callback:function(e){t.data=e},expression:\"data\"}},[t._v(\">\\n                \"),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"今天\",border:\"\"}}),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"昨天\"}}),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"7日\"}}),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"30日\"}})],1)],1)]),i(\"div\",[i(\"Row\",{staticStyle:{\"margin-bottom\":\"20px\",\"padding-bottom\":\"10px\",\"border-bottom\":\"2px solid #EEE8CD\"},attrs:{type:\"flex\",justify:\"space-between\"}},[i(\"Col\",{staticStyle:{height:\"200px\",\"background-color\":\"#fff\",\"border-radius\":\"10px 10px 10px 10px\",border:\"1px solid #ebebeb\"},attrs:{xs:0,sm:10,md:10,lg:5}},[i(\"vTitleHead\",{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"500\"},attrs:{inputName:t.dau}}),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.defShow,expression:\"defShow\"}],staticStyle:{height:\"130px\",\"line-height\":\"30px\",\"list-style-type\":\"none\",\"margin-left\":\"40px\",\"margin-top\":\"10px\",\"font-size\":\"14px\",\"font-family\":\"Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif\"}},[i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"人    数：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[0].value))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"iOS：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[0].payARPU))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"Android：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(\" \"+t._s(t.realtimeStatis[0].payRate))])])])],1),i(\"Col\",{staticStyle:{height:\"200px\",\"background-color\":\"#fff\",\"border-radius\":\"10px 10px 10px 10px\",border:\"1px solid #ebebeb\"},attrs:{xs:0,sm:10,md:10,lg:5}},[i(\"vTitleHead\",{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"500\"},attrs:{inputName:t.install}}),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.defShow,expression:\"defShow\"}],staticStyle:{height:\"130px\",\"line-height\":\"30px\",\"list-style-type\":\"none\",\"margin-left\":\"40px\",\"margin-top\":\"10px\",\"font-size\":\"14px\"}},[i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"人    数：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[1].value))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"iOS：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[1].payRate))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"Android：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[1].payARPU))])])])],1),i(\"Col\",{staticStyle:{height:\"200px\",\"background-color\":\"#fff\",\"border-radius\":\"10px 10px 10px 10px\",border:\"1px solid #ebebeb\"},attrs:{xs:0,sm:10,md:10,lg:5}},[i(\"vTitleHead\",{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"500\"},attrs:{inputName:t.pay}}),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.defShow,expression:\"defShow\"}],staticStyle:{height:\"130px\",\"line-height\":\"25px\",\"list-style-type\":\"none\",\"margin-left\":\"40px\",\"margin-top\":\"10px\",\"font-size\":\"14px\"}},[i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"总    额：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[2].value))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"付 费 率：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[2].payRate))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"ARPU：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[2].payARPU))])]),i(\"li\",{staticStyle:{display:\"inline-flex\"}},[i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"right\"}},[t._v(\"ARPPU：\")]),i(\"p\",{staticStyle:{width:\"100px\",\"text-align\":\"left\"}},[t._v(t._s(t.realtimeStatis[2].payARPPU))])])])],1),i(\"Col\",{staticStyle:{height:\"200px\",\"background-color\":\"#fff\",\"border-radius\":\"10px 10px 10px 10px\",border:\"1px solid #ebebeb\"},attrs:{xs:0,sm:10,md:10,lg:5}},[i(\"vTitleHead\",{staticStyle:{\"font-size\":\"16px\",\"font-weight\":\"500\"},attrs:{inputName:t.retention}}),i(\"div\",{staticStyle:{height:\"130px\",\"line-height\":\"30px\",\"list-style-type\":\"none\",\"margin-left\":\"40px\",\"margin-top\":\"10px\",\"font-size\":\"14px\"}},[i(\"li\",[t._v(\"                           1日      2日      3日\")]),i(\"li\",[t._v(t._s(t.retentionDataList[0].ds)+\"：  \"),i(\"span\",{class:parseFloat(t.retentionDataList[0].oneRetentionPercentage)>30?\"isRed\":\"\",staticStyle:{width:\"30px\",display:\"inline-flex\"}},[t._v(t._s(t.retentionDataList[0].oneRetentionPercentage))])]),i(\"li\",[t._v(t._s(t.retentionDataList[1].ds)+\"：  \"),i(\"span\",{class:parseFloat(t.retentionDataList[1].oneRetentionPercentage)>30?\"isRed\":\"\",staticStyle:{width:\"30px\",display:\"inline-flex\"}},[t._v(t._s(t.retentionDataList[1].oneRetentionPercentage))]),t._v(\"\\n                         \\n                         \"),i(\"span\",{class:parseFloat(t.retentionDataList[1].twoRetentionPercentage)>30?\"isRed\":\"\",staticStyle:{width:\"30px\",display:\"inline-flex\"}},[t._v(t._s(t.retentionDataList[1].twoRetentionPercentage))])]),i(\"li\",[t._v(t._s(t.retentionDataList[2].ds)+\"：  \"),i(\"span\",{class:parseFloat(t.retentionDataList[2].oneRetentionPercentage)>30?\"isRed\":\"\",staticStyle:{width:\"30px\",display:\"inline-flex\"}},[t._v(t._s(t.retentionDataList[2].oneRetentionPercentage))]),t._v(\" \\n                        \"),i(\"span\",{class:parseFloat(t.retentionDataList[2].twoRetentionPercentage)>30?\"isRed\":\"\",staticStyle:{width:\"30px\",display:\"inline-flex\"}},[t._v(t._s(t.retentionDataList[2].twoRetentionPercentage)+\"\\n                    \")]),t._v(\"    \"),i(\"span\",{class:parseFloat(t.retentionDataList[2].threeRetentionPercentage)>30?\"isRed\":\"\",staticStyle:{width:\"30px\",display:\"inline-flex\"}},[t._v(t._s(t.retentionDataList[2].threeRetentionPercentage))])])])],1)],1)],1),i(\"div\",{staticClass:\"reportChartLeft\",staticStyle:{width:\"45%\",height:\"300px\"}},[i(\"div\",{staticStyle:{position:\"absolute\",top:\"0px\",left:\"5%\",\"z-index\":\"999\"}},[i(\"RadioGroup\",{attrs:{type:\"button\"},on:{\"on-change\":function(e){return t.init()}},model:{value:t.dauOrInstall,callback:function(e){t.dauOrInstall=e},expression:\"dauOrInstall\"}},[i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"活跃\"}}),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"新增\"}})],1)],1),i(\"vTitleHead\"),i(\"div\",{staticStyle:{\"background-color\":\"#fff\",\"border-radius\":\"0 0 10px 10px\"},attrs:{id:\"surveyOneLine\"}})],1),i(\"div\",{staticClass:\"chartBord\"},[i(\"vTitleHead\",{attrs:{inputName:t.systemName}})],1),t._m(0),i(\"div\",{staticStyle:{\"margin-top\":\"15px\"}},[i(\"vTitleHead\",{attrs:{inputName:t.name}}),i(\"Row\",[i(\"Table\",{ref:\"table\",attrs:{rowClassName:t.tableOnClick,height:\"405\",\"disabled-hover\":!1,\"highlight-row\":\"\",border:\"\",columns:t.columns,data:t.listData}})],1)],1),i(\"div\",{staticClass:\"menyLine\"},[i(\"vTitleHead\",{attrs:{inputName:t.payChart}}),i(\"div\",{staticStyle:{\"background-color\":\"#fff\",\"border-radius\":\"0 0 10px 10px\"},attrs:{id:\"surveyManyLine\"}})],1),i(\"div\",{staticClass:\"bottomTable\"},[i(\"vTitleHead\",{attrs:{inputName:t.retenTable}}),i(\"Row\",[i(\"Table\",{ref:\"table\",attrs:{height:\"440\",\"highlight-row\":\"\",border:\"\",columns:t.retentionTable,data:t.retentionDataList}})],1)],1)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"roundChart\"},[i(\"div\",{attrs:{id:\"davChart\"}}),i(\"div\",{staticStyle:{width:\"50px\",color:\"#40a9ff\",position:\"absolute\",left:\"100px\",top:\"5px\"}},[t._v(\"活跃\")]),i(\"div\",{staticStyle:{width:\"50px\",color:\"#40a9ff\",position:\"absolute\",left:\"500px\",top:\"5px\"}},[t._v(\"新增\")]),i(\"div\",{staticStyle:{\"margin-left\":\"-100px\"},attrs:{id:\"installChart\"}})])}],s=i(\"365c\"),l=i(\"3ac2\");function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o={\"今天\":0,\"昨天\":1,\"7日\":7,\"30日\":30},c={ALL:0,ANDROID:1,IOS:2},d={name:\"reportData\",components:{vTitleHead:l[\"default\"]},data:function(){var t;return t={loadingData:!0,defShow:!0,tableTrue:!0,value1:\"1\",isShowCondition:!1,name:\"概况数据\",systemName:\"操作系统百分比\",dau:\"活跃\",install:\"新增\",pay:\"付费元\",retention:\"留存(%)\",payChart:\"付费数据\",retenTable:\"留存数据(%)\",isShow:!0,isDevice:\"用户\",phone:\"ALL\",data:\"7日\",dauOrInstall:\"活跃\",listData:[],payList:[],retentionDataList:[],datas:[],isccc:99,realtimeStatis:[{value:\"\",payRate:\"\",payARPU:\"\",payARPPU:\"\"},{value:\"\",payRate:\"\",payARPU:\"\",payARPPU:\"\"},{value:\"\",payRate:\"\",payARPU:\"\",payARPPU:\"\"}]},r(t,\"retentionDataList\",[{ds:\"\",oneRetentionPercentage:\"\"},{ds:\"\",oneRetentionPercentage:\"\",twoRetentionPercentage:\"\"},{ds:\"\",oneRetentionPercentage:\"\",twoRetentionPercentage:\"\",threeRetentionPercentage:\"\"}]),r(t,\"handelPayCount\",[]),r(t,\"finalTable\",[]),r(t,\"columnsHeadrReal\",[{title:\"日期（星期）\",key:\"ds\",width:120,fixed:\"left\"},{title:\"～时\",key:\"dayOfHour\",align:\"center\",width:80,fixed:\"left\"}]),r(t,\"columnsHeadr\",[{title:\"日期（星期）\",key:\"ds\",width:120,align:\"center\",fixed:\"left\"}]),r(t,\"columnsOver\",[{title:\"注册数\",key:\"installNum\",align:\"center\",width:80},{title:\"活跃数\",key:\"dauNum\",align:\"center\",width:80},{title:\"付费率（%）\",key:\"payRate\",align:\"center\",width:120},{title:\"ARPU\",key:\"ARPU\",align:\"center\",width:80},{title:\"ARPPU\",key:\"ARPPU\",align:\"center\",width:80},{title:\"付费人数\",key:\"payCount\",align:\"center\",width:100},{title:\"付费总额\",key:\"payAmount\",align:\"center\",width:100},{title:\"注册付费率（%）\",key:\"payInstallRate\",align:\"center\",width:140},{title:\"注册付费人数\",key:\"payInstallCount\",align:\"center\",width:120},{title:\"注册付费总额\",key:\"payInstallAmount\",align:\"center\",width:120},{title:\"注册付费ARPU\",key:\"payInstallARPU\",align:\"center\",width:150},{title:\"注册付费ARPPU\",key:\"payInstallARPPU\",align:\"center\",width:150},{title:\"付费次数\",key:\"payTimes\",align:\"center\",width:120},{title:\"注册付费次数\",key:\"payInstallTimes\",align:\"center\",width:120}]),r(t,\"columns\",[]),r(t,\"retentionTable\",[{title:\"日期（星期）\",key:\"ds\",align:\"center\",width:120,fixed:\"left\"},{title:\"安装数\",key:\"installNum\",align:\"center\",width:80,fixed:\"left\"},{title:\"1日\",key:\"oneRetentionPercentage\",align:\"center\",width:80},{title:\"2日\",key:\"twoRetentionPercentage\",align:\"center\",width:80},{title:\"3日\",key:\"threeRetentionPercentage\",align:\"center\",width:80},{title:\"4日\",key:\"fourRetentionPercentage\",align:\"center\",width:80},{title:\"5日\",key:\"fiveRetentionPercentage\",align:\"center\",width:80},{title:\"6日\",key:\"sixRetentionPercentage\",align:\"center\",width:80},{title:\"7日\",key:\"sevenRetentionPercentage\",align:\"center\",width:80},{title:\"8日\",key:\"eightRetentionPercentage\",align:\"center\",width:80},{title:\"9日\",key:\"nineRetentionPercentage\",align:\"center\",width:80},{title:\"10日\",key:\"tenRetentionPercentage\",align:\"center\",width:80},{title:\"11日\",key:\"elevenRetentionPercentage\",align:\"center\",width:80},{title:\"12日\",key:\"twelveRetentionPercentage\",align:\"center\",width:80},{title:\"13日\",key:\"thirteenRetentionPercentage\",align:\"center\",width:80},{title:\"14日\",key:\"fourteenRetentionPercentage\",align:\"center\",width:80},{title:\"15日\",key:\"fifteenRetentionPercentage\",align:\"center\",width:80},{title:\"16日\",key:\"sixteenRetentionPercentage\",align:\"center\",width:80},{title:\"17日\",key:\"seventeenRetentionPercentage\",align:\"center\",width:80},{title:\"18日\",key:\"eighteenRetentionPercentage\",align:\"center\",width:80},{title:\"19日\",key:\"nineteenRetentionPercentage\",align:\"center\",width:80},{title:\"20日\",key:\"twentyteenRetentionPercentage\",align:\"center\",width:80},{title:\"21日\",key:\"twentyOneteenRetentionPercentage\",align:\"center\",width:80},{title:\"22日\",key:\"twentyTwoRetentionPercentage\",align:\"center\",width:80},{title:\"23日\",key:\"twentyThreeRetentionPercentage\",align:\"center\",width:80},{title:\"24日\",key:\"twentyFourRetentionPercentage\",align:\"center\",width:80},{title:\"25日\",key:\"twentyFiveRetentionPercentage\",align:\"center\",width:80},{title:\"26日\",key:\"twentySixRetentionPercentage\",align:\"center\",width:80},{title:\"27日\",key:\"twentySevenRetentionPercentage\",align:\"center\",width:80},{title:\"28日\",key:\"twentyEightRetentionPercentage\",align:\"center\",width:80},{title:\"29日\",key:\"twentyNineRetentionPercentage\",align:\"center\",width:80},{title:\"30日\",key:\"thirtyRetentionPercentage\",align:\"center\",width:80}]),r(t,\"surveyOneLine\",{}),r(t,\"surveyManyLine\",{}),r(t,\"davChart\",{}),r(t,\"chartData\",[]),r(t,\"map_pieChartD\",{}),r(t,\"map_pieChartI\",{}),t},methods:{tableOnClick:function(t,e){if(e>=0)return\"demoTableInfoRow\"},enter:function(){this.isShowCondition=!0},leave:function(){this.isShowCondition=!1},init:function(){this.loadingData=!0,0==this.getStore(\"parentId\")?this.isShow=!0:this.isShow=!1,this.initTable(),this.queryDaily()},surveyManyLineChart:function(){this.surveyManyLine=new G2.Chart({container:\"surveyManyLine\",forceFit:!0,height:295}),this.surveyManyLine.source(this.handelPayCount,{}),this.surveyManyLine.scale(\"value\",{min:0,alias:\"人数\"}),this.surveyManyLine.scale(\"time\",{tickCount:10}),this.surveyManyLine.tooltip({crosshairs:{type:\"line\"}}),this.surveyManyLine.axis(\"time\",{label:{rotate:-Math.PI/2.5,textAlign:\"end\",textBaseline:\"middle\"}}),this.surveyManyLine.axis(\"time\",{label:{formatter:function(t){return t}}}),this.surveyManyLine.legend({position:\"bottom\",align:\"center\",itemWidth:null}),this.surveyManyLine.line().position(\"time*value\").color(\"type\").shape(\"smooth\"),this.surveyManyLine.point().position(\"time*value\").color(\"type\").size(4).shape(\"circle\").style({stroke:\"#fff\",lineWidth:1}),this.surveyManyLine.render()},surveyOneLineChart:function(){this.surveyOneLine=new G2.Chart({container:\"surveyOneLine\",forceFit:!0,height:295}),this.surveyOneLine.source(this.datas,{}),this.surveyOneLine.scale(\"value\",{min:0,alias:\"人数\"}),this.surveyOneLine.scale(\"time\",{tickCount:10}),this.surveyOneLine.tooltip({crosshairs:{type:\"line\"}}),this.surveyOneLine.axis(\"time\",{label:{rotate:-Math.PI/2.5,textAlign:\"end\",textBaseline:\"middle\"}}),this.surveyOneLine.point().position(\"time*value\").size(4).shape(\"circle\").style({stroke:\"#fff\",lineWidth:1}).color(\"l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF\"),this.surveyOneLine.area().position(\"time*value\").shape(\"smooth\"),this.surveyOneLine.render()},roundChart:function(){var t=this;this.davChart=new G2.Chart({container:\"davChart\",height:250}),this.davChart.source(this.chartData,{}),this.davChart.coord(\"theta\",{radius:.75}),this.davChart.tooltip({showTitle:!1}),this.davChart.intervalStack().position(\"dauNum\").color(\"os\").label(\"dauNum\",{formatter:function(e,i){return t.map_pieChartD[i.point.os]+\"|\"+(\"unknown\"==i.point.os?\"\":\"\"+i.point.os)}}).tooltip(\"os*dauNum\",(function(t,e){return{name:t,value:e}})).style({lineWidth:1,stroke:\"#fff\"}),this.davChart.render(),this.installChart=new G2.Chart({container:\"installChart\",height:250}),this.installChart.source(this.chartData,{}),this.installChart.coord(\"theta\",{radius:.75}),this.installChart.tooltip({showTitle:!1}),this.installChart.intervalStack().position(\"installNum\").color(\"os\").label(\"installNum\",{formatter:function(e,i){return t.map_pieChartI[i.point.os]+\"|\"+(\"unknown\"==i.point.os?\"\":\"\"+i.point.os)}}).tooltip(\"os*installNum\",(function(t,e){return{name:t,value:e}})).style({lineWidth:1,stroke:\"#fff\"}),this.installChart.render()},initTable:function(){1==o[this.data]||0==o[this.data]?(this.columns=this.columnsHeadrReal.concat(this.columnsOver),this.dau=\"活跃\",this.install=\"新增\",this.pay=\"付费(元）\"):(this.columns=this.columnsHeadr.concat(this.columnsOver),7==o[this.data]?(this.dau=\"周活跃\",this.install=\"周新增\",this.pay=\"周付费(元）\"):(this.dau=\"月活跃\",this.install=\"月新增\",this.pay=\"月付费(元）\"));var t=[],e=new Object;e.type=\"selection\",e.width=60,e.align=\"center\",e.fixed=\"left\";var i=new Object;i.type=\"index\",i.width=60,i.align=\"center\",i.fixed=\"left\";var a=new Object;a.title=\"日期（星期）\",a.key=\"ds\",a.width=150,a.fixed=\"left\",t.push(e),t.push(i),t.push(a)},queryDaily:function(){var t=this,e={gameid:parseInt(this.getStore(\"gameid\")),deviceType:parseInt(\"用户\"===this.isDevice?0:1),osType:c[this.phone],data:parseInt(o[this.data]),hxType:parseInt(\"活跃\"===this.dauOrInstall?0:1)};Object(s[\"Pb\"])(e).then((function(e){if(t.loadingData=!1,e.success){var i=[];e.androidIosProportions.length>0?(t.defShow=!0,i=t.androidIosProportions(e.androidIosProportions)):t.defShow=!1,t.listData=t.tableDataProcess(e.shareDailyResultTypes,i),t.payList=e.payList,e.shareRetentionList.length>0&&(t.retentionDataList=t.saturday(e.shareRetentionList)),t.datas=t.f2DI(e.dauNumOrInstallNumList,o[t.data].toString(),t.listData,parseInt(\"活跃\"===t.dauOrInstall?0:1)),t.handelPayCount=t.makeCavas(t.listData,o[t.data]),t.chartData=t.makePieChart(e.androidIosProportions),t.surveyOneLine.changeData(t.datas),t.surveyManyLine.changeData(t.handelPayCount),t.davChart.changeData(t.chartData),t.installChart.changeData(t.chartData),7==o[t.data]&&(t.realtimeStatis[0].value=e.weekStats.wdu,t.realtimeStatis[1].value=e.weekStats.wnu),30==o[t.data]&&(t.realtimeStatis[0].value=e.monthStats.mdu,t.realtimeStatis[1].value=e.monthStats.mnu)}}))},makePieChart:function(t){var e=0,i=0;t.forEach((function(t){e+=t.dauNum,i+=t.installNum}));var a={},n={};return t.map((function(t){a[t.os]=(t.dauNum/e*100).toFixed(2)+\"%\",n[t.os]=(t.installNum/i*100).toFixed(2)+\"%\"})),this.map_pieChartD=a,this.map_pieChartI=n,t},androidIosProportions:function(t){if(t){var e=0,i=0,a=0,n=0,s=0,l=0,r=[];return t.forEach((function(t){e+=t.dauNum,i+=t.installNum,\"android\"==t.os&&(a+=t.dauNum,n+=t.installNum),\"iOS\"==t.os&&(s+=t.dauNum,l+=t.installNum)})),r.push((a/e*100).toFixed(2)+\"%\"),r.push((s/e*100).toFixed(2)+\"%\"),r.push((n/i*100).toFixed(2)+\"%\"),r.push((l/i*100).toFixed(2)+\"%\"),r}},tableDataProcess:function(t,e){var i=this;if(t.length>0){var a=0,n=0,s=0,l=0;if(t.forEach((function(t){a+=t.dauNum,n+=t.installNum,s+=t.payAmount,l+=t.payCount,t.ds=i.weekFunction(t.ds),t.payAmount=t.payAmount/i.getStore(\"currencyRate\"),t.payRate=0==t.dauNum?0:(100*t.payCount/t.dauNum).toFixed(2),t.ARPU=0==t.dauNum?0:(t.payAmount/t.dauNum).toFixed(2),t.ARPPU=0==t.payCount?0:(t.payAmount/t.payCount).toFixed(2),t.payInstallAmount=t.payInstallAmount/i.getStore(\"currencyRate\"),t.payInstallRate=0==t.installNum?0:(100*t.payInstallCount/t.installNum).toFixed(2),t.payInstallARPU=0==t.installNum?0:(t.payInstallAmount/t.installNum).toFixed(2),t.payInstallARPPU=0==t.payInstallCount?0:(t.payInstallAmount/t.payInstallCount).toFixed(2)})),e.length>0){var r=[],o=new Object;o.title=\"活跃\",o.value=a,o.payRate=e[0],o.payARPU=e[1];var c=new Object;c.title=\"新增\",c.payRate=e[2],c.payARPU=e[3],c.value=n;var d=new Object;d.title=\"付费\",d.value=s/this.getStore(\"currencyRate\"),d.payRate=0==a?0:(100*l/a).toFixed(2)+\"%\",d.payARPU=0==a?0:(s/this.getStore(\"currencyRate\")/a).toFixed(2),d.payARPPU=0==l?0:(s/this.getStore(\"currencyRate\")/l).toFixed(2),r.push(o),r.push(c),r.push(d),this.realtimeStatis=r}}return t},saturday:function(t){if(t)return t.forEach((function(t,e){var i=new Date(t.ds),a=i.getDay(),n=7-a,s=[];switch(n){case 7:s=[\"oneRetentionPercentage\",\"eightRetentionPercentage\",\"fifteenRetentionPercentage\"],t.ds=t.ds+\"(七)\";break;case 1:s=[\"sevenRetentionPercentage\",\"fourteenRetentionPercentage\"],t.ds=t.ds+\"(六)\";break;case 2:s=[\"sixRetentionPercentage\",\"thirteenRetentionPercentage\"],t.ds=t.ds+\"(五)\";break;case 3:s=[\"fiveRetentionPercentage\",\"twelveRetentionPercentage\"],t.ds=t.ds+\"(四)\";break;case 4:s=[\"fourRetentionPercentage\",\"elevenRetentionPercentage\"],t.ds=t.ds+\"(三)\";break;case 5:s=[\"threeRetentionPercentage\",\"tenRetentionPercentage\"],t.ds=t.ds+\"(二)\";break;case 6:s=[\"twoRetentionPercentage\",\"nineRetentionPercentage\"],t.ds=t.ds+\"(一)\";break;default:}t.special=s,t.oneSpecial=s[0],t.twoSpecial=s[1]})),t},f2DI:function(t,e,i,a){var n=this,s=[];return 0==e||1==e?i.forEach((function(t){var e=new Object;e.value=0==a?t.dauNum:t.installNum,e.time=t.dayOfHour+\"时\",s.push(e)})):t.forEach((function(t,e){var i=new Object;i.time=n.getTime(e),i.value=t,s.push(i)})),\"7\"!=e&&\"30\"!=e&&\"0\"!=e||s.reverse(),s},getTime:function(t){var e=new Date;e.setTime(e.getTime()-864e5*(t+1));var i=e.getMonth()+1+\"-\"+e.getDate();return i},weekFunction:function(t){var e=new Date(t),i=e.getDay(),a=7-i;switch(a){case 7:t+=\"(七)\";break;case 1:t+=\"(六)\";break;case 2:t+=\"(五)\";break;case 3:t+=\"(四)\";break;case 4:t+=\"(三)\";break;case 5:t+=\"(二)\";break;case 6:t+=\"(一)\";break;default:}return t},makeCavas:function(t,e){if(t){0==e&&t.sort((function(t,e){return e.dayOfHour-t.dayOfHour}));var i=[];return t.forEach((function(t,a){var n=new Object;n.time=7!=e&&30!=e?t.dayOfHour+\"时\":t.ds.substr(5,5),n.value=t.payCount,n.type=\"付费人数\",i.push(n);var s=new Object;s.time=7!=e&&30!=e?t.dayOfHour+\"时\":t.ds.substr(5,5),s.value=t.payAmount,s.type=\"付费金额\",i.push(s);var l=new Object;l.time=7!=e&&30!=e?t.dayOfHour+\"时\":t.ds.substr(5,5),l.value=t.payTimes,l.type=\"付费次数\",i.push(l);var r=new Object;r.time=7!=e&&30!=e?t.dayOfHour+\"时\":t.ds.substr(5,5),r.value=t.payInstallCount,r.type=\"安装付费人数\",i.push(r);var o=new Object;o.time=7!=e&&30!=e?t.dayOfHour+\"时\":t.ds.substr(5,5),o.value=t.payInstallAmount,o.type=\"安装付费金额\",i.push(o);var c=new Object;c.time=7!=e&&30!=e?t.dayOfHour+\"时\":t.ds.substr(5,5),c.value=t.payInstallTimes,c.type=\"安装付费次数\",i.push(c)})),7!=e&&30!=e&&0!=e||i.reverse(),i}}},mounted:function(){this.surveyOneLineChart(),this.surveyManyLineChart(),this.roundChart(),this.init()}},h=d,p=(i(\"0a9c\"),i(\"2877\")),u=Object(p[\"a\"])(h,a,n,!1,null,\"2b0de3fe\",null);e[\"default\"]=u.exports},\"7e18\":function(t,e,i){},d985:function(t,e,i){}}]);","extractedComments":[]}