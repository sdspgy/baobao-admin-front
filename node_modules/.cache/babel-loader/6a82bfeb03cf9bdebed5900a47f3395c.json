{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/home/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/home/home.vue","mtime":1592041886204},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Cookies from \"js-cookie\";\nimport \"gitalk/dist/gitalk.css\";\nimport { queryTableConsoleGames } from '@/api/index';\nimport { router } from '@/router/index';\nexport default {\n  name: \"home\",\n  components: {},\n  data: function data() {\n    return {\n      username: \"\",\n      games: [],\n      gamesForm: {\n        gameid: 0,\n        name: ''\n      }\n    };\n  },\n  computed: {\n    avatarPath: function avatarPath() {\n      return localStorage.avatorImgPath;\n    }\n  },\n  methods: {\n    init: function init() {\n      var userInfo = JSON.parse(Cookies.get(\"userInfo\"));\n      this.username = userInfo.username;\n      this.queryAllGames();\n    },\n    queryAllGames: function queryAllGames() {\n      var _this = this;\n\n      queryTableConsoleGames().then(function (res) {\n        if (res.success) {\n          _this.games = res.result;\n\n          if (_this.games.length <= 0) {\n            _this.$Notice.open({\n              title: '⚠️',\n              desc: '请联系管理员分配游戏！请勿有其它操作！1秒后自动退出管理台！'\n            }); // alert(\"请联系管理员分配游戏！请勿有其它操作！1秒后自动退出管理台！\")\n\n\n            var that = _this;\n            window.setTimeout(function () {\n              that.$store.commit(\"logout\", that);\n              that.$store.commit(\"clearOpenedSubmenu\");\n              that.setStore(\"accessToken\", \"\"); // 强制刷新页面 重新加载router\n\n              location.reload();\n            }, 1500);\n          } else {\n            _this.setStore(\"gameid\", _this.games[0].gameid);\n\n            _this.gamesForm.name = _this.games[0].gamename;\n            _this.gamesForm.gameid = _this.games[0].gamename;\n\n            _this.setStore(\"currencyRate\", _this.games[0].currencyrate);\n\n            _this.setStore(\"parentId\", _this.games[0].parentid);\n\n            _this.$emit('sendMsg', _this.games[0].gamename);\n\n            _this.setStore(\"gamename\", _this.games[0], gameName);\n          }\n        }\n      });\n    },\n    changeGame: function changeGame(info) {\n      var _this2 = this;\n\n      var gameid = info;\n      this.gamesForm.gameid = gameid;\n      this.setStore(\"gameid\", gameid);\n      this.games.forEach(function (item) {\n        if (item.gameid === gameid) {\n          _this2.gamesForm.name = item.gamename;\n\n          _this2.setStore(\"currencyRate\", item.currencyrate);\n\n          _this2.setStore(\"parentId\", item.parentid);\n\n          _this2.setStore(\"gamename\", item.gamename);\n\n          _this2.$store.commit(\"keepGameName\", item.gamename);\n        }\n      });\n      this.$emit('sendMsg', this.gamesForm.name);\n      this.$store.commit(\"clearAllTags\");\n      var that = this;\n      that.$router.push({\n        name: 'reportdata'\n      });\n    },\n    getGameInfo: function getGameInfo() {\n      return this.gamesForm.name;\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n  }\n};",null]}