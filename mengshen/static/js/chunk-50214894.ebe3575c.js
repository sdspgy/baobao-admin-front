(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50214894","chunk-8d965cd6"],{"16a8":function(e,t,a){"use strict";var n=a("7e18"),i=a.n(n);i.a},"3ac2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"titleHead"},[e._v(e._s(e.inputName))])},i=[],r={name:"TitleHead",props:{inputName:String,required:!0},components:{},data:function(){return{}},mounted:function(){},methods:{}},o=r,s=(a("16a8"),a("2877")),u=Object(s["a"])(o,n,i,!1,null,"111682f2",null);t["default"]=u.exports},"3f27":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=new Date(e),a=t.getDay(),n=7-a;switch(n){case 7:e+="(七)";break;case 1:e+="(六)";break;case 2:e+="(五)";break;case 3:e+="(四)";break;case 4:e+="(三)";break;case 5:e+="(二)";break;case 6:e+="(一)";break;default:}return e}},"66d0":function(e,t,a){},"7e18":function(e,t,a){},"8d9c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#fff"}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":function(t){return e.init()}},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},[e._v(">\n            "),a("Radio",{staticStyle:{margin:"10px 10px"},attrs:{label:"1"}},[e._v("昨天")]),a("Radio",{staticStyle:{margin:"10px 10px"},attrs:{label:"7"}},[e._v("7日")]),a("Radio",{staticStyle:{margin:"10px 10px"},attrs:{label:"30"}},[e._v("30日")])],1)],1),a("div",{staticStyle:{width:"47%",position:"absolute"}},[a("vTitleHead",{attrs:{inputName:e.payHevChart}}),a("div",{staticStyle:{"background-color":"#fff","border-radius":"0 0 10px 10px"},attrs:{id:"payChartGroup"}})],1),a("div",{staticStyle:{width:"47%",position:"relative",left:"50%"}},[a("vTitleHead",{attrs:{inputName:e.payHevChartLine}}),a("div",{staticStyle:{"background-color":"#fff","border-radius":"0 0 10px 10px"},attrs:{id:"payChart"}})],1),a("div",[a("vTitleHead",{attrs:{inputName:e.payHevTableMoney}}),a("Row",[a("Table",{ref:"table",attrs:{loading:e.isLoading,height:"400","highlight-row":"",border:"",columns:e.columnsPay,data:e.payBehavs}})],1)],1),a("div",[a("vTitleHead",{attrs:{inputName:e.payHevTablePeople}}),a("Row",[a("Table",{ref:"table",attrs:{height:"400","highlight-row":"",border:"",columns:e.columnsPayPeople,data:e.payBehavs}})],1)],1)])},i=[],r=a("365c"),o=a("3f27"),s=a("3ac2"),u={name:"reportPayBehav",components:{vTitleHead:s["default"]},data:function(){return{isLoading:!0,payHevChart:"付费行为汇总",payHevChartLine:"人均付费",payHevTableMoney:"付费额（元）",payHevTablePeople:"付费人数",isShowCondition:!1,defaultData:{yestoday:1,week:7,month:30},data:"7",payBehavs:[],payBehavesChart:[],charts:[],columnsPay:[{title:"日期（星期）",key:"ds",width:150,align:"center",fixed:"left"},{title:"[0,10}",key:"one",align:"center",width:150},{title:"(10,50]",key:"two",align:"center",width:150},{title:"(50,100]",key:"three",align:"center",width:150},{title:"(100,200]",key:"foure",align:"center",width:150},{title:"(200,500]",key:"five",align:"center",width:150},{title:"(500,1000]",key:"six",align:"center",width:150},{title:"1000以上",key:"seven"}],columnsPayPeople:[{title:"日期（星期）",key:"ds",width:150,align:"center",fixed:"left"},{title:"[0,10}",key:"onePeople",align:"center",width:150},{title:"(10,50]",key:"twoPeople",align:"center",width:150},{title:"(50,100]",key:"threePeople",align:"center",width:150},{title:"(100,200]",key:"fourePeople",align:"center",width:150},{title:"(200,500]",key:"fivePeople",align:"center",width:150},{title:"(500,1000]",key:"sixPeople",align:"center",width:150},{title:"1000以上",key:"sevenPeople"}],pyaGroupChart:{},surveyOneLine:{}}},methods:{enter:function(){this.isShowCondition=!0},leave:function(){this.isShowCondition=!1},init:function(){this.isLoading=!0,this.queryPay()},queryPay:function(){var e=this,t={gameid:parseInt(this.getStore("gameid")),date:parseInt(this.data)};Object(r["Wb"])(t).then((function(t){if(e.isLoading=!1,t.success){var a=t.shareDailyResultTypes,n=t.payBehavMap,i=[],r=new Map,s=function(t){var a=0;for(var s in n[t])a+=n[t][s].length;r.set(t,a);var u=new Object;u.ds=Object(o["a"])(t);var c=0,l=0,h=0,p=0,d=0,v=0,y=0,f=new Set,m=new Set,w=new Set,b=new Set,g=new Set,k=new Set,O=new Set;n[t].collectOne.forEach((function(e){c+=e.amount,f.add(e.userid)}));var P=f.size;u.one=c/e.getStore("currencyRate"),u.onePeople=P,n[t].collectTwo.forEach((function(e){l+=e.amount,m.add(e.userid)}));var S=m.size;u.two=l/e.getStore("currencyRate"),u.twoPeople=S,n[t].collectThree.forEach((function(e){h+=e.amount,w.add(e.userid)}));var x=w.size;u.three=h/e.getStore("currencyRate"),u.threePeople=x,n[t].collectFoure.forEach((function(e){p+=e.amount,b.add(e.userid)}));var C=b.size;u.foure=p/e.getStore("currencyRate"),u.fourePeople=C,n[t].collectFive.forEach((function(e){d+=e.amount,g.add(e.userid)}));var N=g.size;u.five=d/e.getStore("currencyRate"),u.fivePeople=N,n[t].collectSix.forEach((function(e){v+=e.amount,k.add(e.userid)}));var j=k.size;u.six=v/e.getStore("currencyRate"),u.sixPeople=j,n[t].collectSeven.forEach((function(e){y+=e.amount,O.add(e.userid)}));var L=O.size;u.seven=y/e.getStore("currencyRate"),u.sevenPeople=L,i.push(u)};for(var u in n)s(u);var c=[];a.sort(e.compareR),a.forEach((function(e){var t=0==e.dauNum?0:((r.get(e.ds)||0)/e.dauNum).toFixed(3),a=new Object;a.ds=e.ds.substr(5,5),a.value=t,c.push(a)})),i.sort(e.compare);var l=0,h=0,p=0,d=0,v=0,y=0,f=0,m=0,w=0,b=0,g=0,k=0,O=0,P=0;i.forEach((function(e){l+=e.one,h+=e.onePeople,p+=e.two,d+=e.twoPeople,v+=e.three,y+=e.threePeople,f+=e.foure,m+=e.fourePeople,w+=e.five,b+=e.fivePeople,g+=e.six,k+=e.sixPeople,O+=e.seven,P+=e.sevenPeople}));var S=[],x=new Object;x.name="付费额",x.payNum="[0,10]",x.value=l,S.push(x);var C=new Object;C.name="付费人数",C.payNum="[0,10]",C.value=h,S.push(C);var N=new Object;N.name="付费额",N.payNum="(10,50]",N.value=p,S.push(N);var j=new Object;j.name="付费人数",j.payNum="(10,50]",j.value=d,S.push(j);var L=new Object;L.name="付费额",L.payNum="(50,100]",L.value=v,S.push(L);var R=new Object;R.name="付费人数",R.payNum="(50,100]",R.value=y,S.push(R);var H=new Object;H.name="付费额",H.payNum="(100,200]",H.value=f,S.push(H);var T=new Object;T.name="付费人数",T.payNum="(100,200]",T.value=m,S.push(T);var E=new Object;E.name="付费额",E.payNum="(200,500]",E.value=w,S.push(E);var B=new Object;B.name="付费人数",B.payNum="(200,500]",B.value=b,S.push(B);var F=new Object;F.name="付费额",F.payNum="(500,1000]",F.value=g,S.push(F);var G=new Object;G.name="付费人数",G.payNum="(500,1000]",G.value=k,S.push(G);var _=new Object;_.name="付费额",_.payNum="1000以上",_.value=O,S.push(_);var z=new Object;z.name="付费人数",z.payNum="1000以上",z.value=P,S.push(z),e.payBehavs=i,e.payBehavesChart=S,e.charts=c,e.surveyOneLine.changeData(e.charts),e.pyaGroupChart.changeData(e.payBehavesChart)}}))},reportLineChart:function(){this.pyaGroupChart=new G2.Chart({container:"payChartGroup",forceFit:!0,height:300}),this.pyaGroupChart.source(this.payBehavesChart),this.pyaGroupChart.interval().position("payNum*value").color("name").adjust([{type:"dodge",marginRatio:1/32}]),this.pyaGroupChart.render(),this.surveyOneLine=new G2.Chart({container:"payChart",forceFit:!0,height:300}),this.surveyOneLine.source(this.handelRetentionOne,{}),this.surveyOneLine.scale("value",{min:0,alias:"人均付费次数"}),this.surveyOneLine.scale("ds",{tickCount:6}),this.surveyOneLine.tooltip({crosshairs:{type:"line"}}),this.surveyOneLine.axis("ds",{label:{rotate:-Math.PI/2.5,textAlign:"end",textBaseline:"middle"}}),this.surveyOneLine.line().position("ds*value").shape("smooth"),this.surveyOneLine.point().position("ds*value").size(4).shape("circle").style({stroke:"#fff",lineWidth:1}).color("l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF"),this.surveyOneLine.area().position("ds*value").shape("smooth"),this.surveyOneLine.render()},compare:function(e,t){var a=e.ds,n=t.ds;return a<n?1:a>n?-1:0},compareR:function(e,t){var a=e.ds,n=t.ds;return a<n?-1:a>n?1:0}},mounted:function(){this.reportLineChart(),this.init()}},c=u,l=(a("baa4"),a("2877")),h=Object(l["a"])(c,n,i,!1,null,"68feddb8",null);t["default"]=h.exports},baa4:function(e,t,a){"use strict";var n=a("66d0"),i=a.n(n);i.a}}]);