{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/home/home.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/home/home.vue","mtime":1586870066338},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n@import \"./home.less\";\n@import \"../../styles/common.less\";\n\n.isGame {\n    border: 1px solid sandybrown;\n}\n\n.gameItem:hover {\n    cursor: pointer //鼠标悬浮变\n}\n",{"version":3,"sources":["home.vue"],"names":[],"mappings":";AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"home.vue","sourceRoot":"src/views/home","sourcesContent":["<style lang=\"less\">\n    @import \"./home.less\";\n    @import \"../../styles/common.less\";\n\n    .isGame {\n        border: 1px solid sandybrown;\n    }\n\n    .gameItem:hover {\n        cursor: pointer //鼠标悬浮变\n    }\n</style>\n\n<template>\n    <div>\n        <div>\n            <Row :gutter=\"10\">\n                <Col :md=\"24\" :lg=\"8\">\n                    <Row class-name=\"home-page-row1\" :gutter=\"10\">\n                        <Col :md=\"12\" :lg=\"24\" :style=\"{marginBottom: '10px'}\">\n                            <Card>\n                                <Row type=\"flex\" class=\"user-infor\">\n                                    <Col span=\"8\">\n                                        <Row class-name=\"made-child-con-middle\" type=\"flex\" align=\"middle\"><img\n                                                class=\"avator-img\" :src=\"avatarPath\"/>\n                                        </Row>\n                                    </Col>\n                                    <Col span=\"16\" style=\"padding-left:6px;\">\n                                        <Row class-name=\"made-child-con-middle\" type=\"flex\" align=\"middle\">\n                                            <div>\n                                                <b class=\"card-user-infor-name\">{{ username }}</b>\n                                                <p>数据分析后台管理系统 欢迎您的使用</p>\n                                            </div>\n                                        </Row>\n                                    </Col>\n                                </Row>\n\n\n                            </Card>\n                        </Col>\n                    </Row>\n                </Col>\n            </Row>\n        </div>\n        <div>\n            <h1>点击左侧菜单查看详情</h1>\n        </div>\n\n        <!--        <div style=\"position: absolute;top: -50px;left: 30px;z-index: 9999\">{{gamesForm.name}}</div>-->\n\n        <div style=\"display: flex\">\n            <div class=\"gameItem\" v-for=\"(item,index) in games\"\n                 style=\"width: 100px;height: 100px;background-color:#fff;padding-top:30px;margin-top: 30px;margin-left:50px;text-align: center;border-radius: 10px 10px 10px 10px;color: #40a9ff;font-style: normal;font-size: 16px;font-weight: bolder;\"\n                 :class=\"gamesForm.gameid == item.gameid || index == 0 ? 'isGame' : ''\" @click=\"changeGame(item.gameid)\">\n                <p>{{item.gamename}}</p>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import Cookies from \"js-cookie\";\n    import \"gitalk/dist/gitalk.css\";\n    import {queryTableConsoleGames} from '@/api/index';\n    import {router} from '@/router/index';\n\n    export default {\n        name: \"home\",\n        components: {},\n        data() {\n            return {\n                username: \"\",\n                games: [],\n                gamesForm: {\n                    gameid: 0,\n                    name: ''\n                }\n            };\n        },\n        computed: {\n            avatarPath() {\n                return localStorage.avatorImgPath;\n            }\n        },\n        methods: {\n            init() {\n                let userInfo = JSON.parse(Cookies.get(\"userInfo\"));\n                this.username = userInfo.username;\n                this.queryAllGames()\n            },\n            queryAllGames() {\n                queryTableConsoleGames().then(res => {\n                    if (res.success) {\n                        this.games = res.result;\n                        if (this.games.length <= 0) {\n                            this.$Notice.open({\n                                title: '⚠️',\n                                desc: '请联系管理员分配游戏！请勿有其它操作！1秒后自动退出管理台！'\n                            });\n                            // alert(\"请联系管理员分配游戏！请勿有其它操作！1秒后自动退出管理台！\")\n                            var that = this;\n                            window.setTimeout(function () {\n                                that.$store.commit(\"logout\", that);\n                                that.$store.commit(\"clearOpenedSubmenu\");\n                                that.setStore(\"accessToken\", \"\");\n                                // 强制刷新页面 重新加载router\n                                location.reload();\n                            }, 1500)\n                        }else {\n                                this.setStore(\"gameid\",  this.games[0].gameid);\n                                this.gamesForm.name =  this.games[0].gamename;\n\t\t\t\t\t\t\t\tthis.gamesForm.gameid =  this.games[0].gamename;\n                                this.setStore(\"currencyRate\",  this.games[0].currencyrate);\n                                this.setStore(\"parentId\",  this.games[0].parentid);\n                                this.$emit('sendMsg',  this.games[0].gamename);\n\t\t\t\t\t\t\t\n                        }\n                    }\n                });\n            },\n\n            changeGame(info) {\n                let gameid = info;\n                this.gamesForm.gameid = gameid;\n                this.setStore(\"gameid\", gameid);\n                this.games.forEach(item => {\n                    if (item.gameid === gameid) {\n                        this.gamesForm.name = item.gamename;\n                        this.setStore(\"currencyRate\", item.currencyrate);\n                        this.setStore(\"parentId\", item.parentid);\n                    }\n                })\n                this.$emit('sendMsg', this.gamesForm.name)\n                this.$store.commit(\"clearAllTags\");\n                var that = this;            \n                    that.$router.push({\n                        name: 'reportdata',\n\t\t\t\t\t\t})\n            },\n            getGameInfo() {\n                return this.gamesForm.name\n            }\n        },\n        mounted() {\n            this.init();\n        }\n    };\n</script>\n"]}]}