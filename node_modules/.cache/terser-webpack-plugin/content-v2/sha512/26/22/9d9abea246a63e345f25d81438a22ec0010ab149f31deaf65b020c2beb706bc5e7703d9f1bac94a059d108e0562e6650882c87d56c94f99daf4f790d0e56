{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4f5d6f07\"],{\"3f27\":function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return a}));var a=function(t){var e=new Date(t),i=e.getDay(),a=7-i;switch(a){case 7:t+=\"(七)\";break;case 1:t+=\"(六)\";break;case 2:t+=\"(五)\";break;case 3:t+=\"(四)\";break;case 4:t+=\"(三)\";break;case 5:t+=\"(二)\";break;case 6:t+=\"(一)\";break;default:}return t}},b38a:function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticStyle:{\"background-color\":\"#fff\",height:\"1000px\"}},[i(\"div\",[i(\"RadioGroup\",{attrs:{type:\"button\"},on:{\"on-change\":function(e){return t.init()}},model:{value:t.data,callback:function(e){t.data=e},expression:\"data\"}},[i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"1\"}},[t._v(\"昨天\")]),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"7\"}},[t._v(\"7日\")]),i(\"Radio\",{staticStyle:{margin:\"10px 10px\"},attrs:{label:\"30\"}},[t._v(\"30日\")])],1)],1),i(\"Row\",{staticStyle:{width:\"40%\",\"background-color\":\"#fff\",\"margin-top\":\"50px\",position:\"absolute\"}},[i(\"Table\",{ref:\"table\",attrs:{height:\"330\",\"highlight-row\":\"\",border:\"\",columns:t.columns,data:t.tableV}})],1),i(\"div\",{staticStyle:{position:\"relative\",left:\"47%\",top:\"50px\",\"background-color\":\"#fff\",\"border-radius\":\"10px 10px 10px 10px\",width:\"40%\"}},[i(\"Form\",{ref:\"from\",attrs:{model:t.value_visitType,\"label-width\":80}},[i(\"FormItem\",{attrs:{label:\"\",prop:\"value\"}},[i(\"Select\",{staticStyle:{width:\"200px\"},on:{\"on-change\":function(e){return t.changeType()}},model:{value:t.value_visitType.index,callback:function(e){t.$set(t.value_visitType,\"index\",e)},expression:\"value_visitType.index\"}},t._l(t.visitType,(function(e){return i(\"Option\",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.text)+\"\\n                    \")])})),1)],1)],1),i(\"div\",{attrs:{id:\"visitChart\"}})],1)],1)},s=[],n=i(\"365c\"),r=i(\"3f27\"),l={name:\"reportVisit\",data:function(){return{defaultData:{yestoday:1,week:7,month:30},data:\"7\",value_visitType:{index:0},defaultVisitType:[{name:\"visits\",value:0},{name:\"averageVisits\",value:1},{name:\"averageStayTime\",value:2}],visitType:[{text:\"访问次数\",value:0},{text:\"平均访问次数\",value:1},{text:\"平均停留时间\",value:2}],columns:[{title:\"日期（星期）\",key:\"ds\",width:150,align:\"center\",fixed:\"left\"},{title:\"访问次数\",key:\"visits\",width:150,align:\"center\",fixed:\"left\"},{title:\"平均访问次数\",key:\"averageVisits\",width:150,align:\"center\",fixed:\"left\"},{title:\"平均停留时间（S）\",key:\"averageStayTime\",width:150,align:\"center\",fixed:\"left\"}],visitG2:{},tableV:[],charts:[]}},methods:{init:function(){this.queryVisit()},queryVisit:function(){var t=this,e={gameid:parseInt(t.getStore(\"gameid\")),date:parseInt(t.data)};Object(n[\"ac\"])(e).then((function(e){if(e.success){var i=e.visitTrendings;i.forEach((function(t){t.ds=Object(r[\"a\"])(t.ds),t.averageVisits=Number(t.averageVisits).toFixed(2),t.averageStayTime=Number(t.averageStayTime).toFixed(2)}));var a=\"\";for(var s in t.visitType)if(t.defaultVisitType[s].value==t.value_visitType.index.toString()){a=t.defaultVisitType[s].name;break}var n=[];i.forEach((function(t){var e=new Object;e.ds=t.ds.substr(5,5),e.value=Number(t[a]),n.push(e)})),t.tableV=i,t.charts=n,t.visitG2.changeData(t.charts)}}))},visitG2F:function(){this.visitG2=new G2.Chart({container:\"visitChart\",forceFit:!0,height:270}),this.visitG2.source(this.charts,{}),this.visitG2.scale(\"value\",{min:0}),this.visitG2.scale(\"ds\",{tickCount:6}),this.visitG2.tooltip({crosshairs:{type:\"line\"}}),this.visitG2.axis(\"ds\",{label:{rotate:-Math.PI/2.5,textAlign:\"end\",textBaseline:\"middle\"}}),this.visitG2.line().position(\"ds*value\").shape(\"smooth\"),this.visitG2.point().position(\"ds*value\").size(4).shape(\"circle\").style({stroke:\"#fff\",lineWidth:1}).color(\"l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF\"),this.visitG2.area().position(\"ds*value\").shape(\"smooth\"),this.visitG2.render()},changeType:function(){this.init()}},mounted:function(){this.visitG2F(),this.init()}},o=l,c=i(\"2877\"),u=Object(c[\"a\"])(o,a,s,!1,null,\"4a206d56\",null);e[\"default\"]=u.exports}}]);","extractedComments":[]}