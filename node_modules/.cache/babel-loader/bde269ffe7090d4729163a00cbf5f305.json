{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportData/reportAdd/reportAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportData/reportAdd/reportAdd.vue","mtime":1586260681793},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { queryAllPayReq } from '@/api/index';\nimport vTitleHead from '../../game/template/TitleHead';\nexport default {\n  name: 'pay',\n  components: {\n    vTitleHead: vTitleHead\n  },\n  comments: {},\n  data: function data() {\n    return {\n      loadingAdd: true,\n      isShow: true,\n      installTable: '新增数据',\n      installTables: '新增数据(Android/iOS)',\n      installChart: '新增趋势',\n      columnspro: [],\n      columns: [{\n        title: '日期(星期)',\n        key: 'ds',\n        align: 'center',\n        width: 150 // sortable: true\n\n      }, {\n        title: '操作系统',\n        key: 'os',\n        width: 100,\n        align: 'center',\n        checkAccess: [2] // sortable: true,\n        // fixed: 'left'\n\n      }, {\n        title: '小时',\n        key: 'dayOfHour',\n        width: 100,\n        checkAccess: [3] //   render:(h,params)=>{\n        //       return h('div', { style: {\n        //               display:(params.row.dayOfHour==0)?\"none\":\"inline-block\",\n        //               color: '#FF7D41'\n        //       }\n        //       },params.row.dayOfHour);\n        // },\n        // sortable: true\n\n      }, {\n        title: '渠道',\n        key: 'creative',\n        width: 100,\n        align: 'center',\n        checkAccess: [4] // sortable: true\n\n      }, {\n        title: '服',\n        key: 'clientid',\n        width: 100,\n        align: 'center',\n        checkAccess: [1] // sortable: true\n\n      }, {\n        title: '注册数',\n        key: 'installNum',\n        align: 'center',\n        width: 80\n      }, {\n        title: '新付费率（%）',\n        key: 'payInstallRate',\n        align: 'center',\n        width: 130\n      }, {\n        title: '新付费ARPU',\n        key: 'payInstallARPU',\n        align: 'center',\n        width: 120\n      }, {\n        title: '新付费ARPPU',\n        key: 'payInstallARPPU',\n        align: 'center',\n        width: 120\n      }, {\n        title: '新付费人数',\n        key: 'payInstallCount',\n        align: 'center',\n        width: 100\n      }, {\n        title: '新付费总额',\n        key: 'payInstallAmount',\n        align: 'center',\n        width: 100\n      }, {\n        title: '新付费次数',\n        key: 'payInstallTimes' // align: 'center',\n        // width: 100\n\n      } // {\n      // \ttitle: '创建时间',\n      // \tkey: 'createTime',\n      // \tsortable: true,\n      // \tsortType: 'desc',\n      // \twidth: 150\n      // },\n      ],\n      columnscc: [{\n        title: '日期(星期)',\n        key: 'ds',\n        align: 'center',\n        width: 120\n      }, {\n        title: '操作系统',\n        key: 'os',\n        align: 'center',\n        width: 100\n      }, {\n        title: '注册数',\n        key: 'installNum',\n        align: 'center',\n        width: 80\n      }, {\n        title: '新付费率（%）',\n        key: 'payInstallRate',\n        align: 'center',\n        width: 130\n      }, {\n        title: '新付费ARPU',\n        key: 'payInstallARPU',\n        align: 'center',\n        width: 120\n      }, {\n        title: '新付费ARPPU',\n        key: 'payInstallARPPU',\n        align: 'center',\n        width: 120\n      }, {\n        title: '新付费人数',\n        key: 'payInstallCount',\n        align: 'center',\n        width: 100\n      }, {\n        title: '新付费总额',\n        key: 'payInstallAmount',\n        align: 'center',\n        width: 100\n      }, {\n        title: '新付费次数',\n        key: 'payInstallTimes' // width: 150\n        // sortable: true\n\n      }],\n      data: [],\n      searchForm: {\n        source: '0',\n        creativeid: '',\n        clientid: '',\n        gameid: parseInt(this.getStore('gameid')),\n        day: '7',\n        os: '0',\n        page: 1\n      },\n      total: 0,\n      games: [],\n      sharePayResultTypesCC: [],\n      creatives: [],\n      clients: [],\n      clientmap: [],\n      creativemap: [],\n      surveyOneLine: {},\n      datas: [],\n      key: 'all',\n      showcreative: false,\n      showclient: false,\n      showcc: true\n    };\n  },\n  methods: {\n    init: function init() {\n      this.loadingAdd = true;\n\n      if (this.getStore('parentId') == 0) {\n        this.isShow = true;\n      } else {\n        this.isShow = false;\n      }\n\n      this.queryAllServer();\n    },\n    handleSearch: function handleSearch() {\n      this.queryAllServer();\n    },\n    queryAllServer: function queryAllServer() {\n      var _this = this;\n\n      this.columnspro = JSON.parse(JSON.stringify(this.columns));\n\n      if (this.searchForm.day != 0 && this.searchForm.day != 1) {\n        this.handleColumns(3);\n      }\n\n      if (this.searchForm.os == 0 && this.searchForm.clientid == '' && this.searchForm.creative == null) {\n        this.handleColumns(2);\n      }\n\n      if (this.searchForm.clientid == '') {\n        this.handleColumns(1);\n      }\n\n      if (this.searchForm.creative == null) {\n        this.handleColumns(4);\n      }\n\n      queryAllPayReq(this.searchForm).then(function (res) {\n        _this.loadingAdd = false;\n\n        if (res.success) {\n          _this.sharePayResultTypesCC = res.sharePayResultTypesCC;\n          _this.creatives = res.creatives;\n          _this.clients = res.clients; //\n\n          _this.creativemap = res.creatives.map(function (item) {\n            return {\n              key: item.creativeid,\n              name: item.creativeName\n            };\n          });\n          var allObject = new Object();\n          allObject.key = '0';\n          allObject.name = '全渠道';\n\n          _this.creativemap.unshift(allObject);\n\n          var creativeMap = new Map();\n\n          _this.creativemap.forEach(function (item, index) {\n            creativeMap.set(item.key, item.name);\n          }); //\n\n\n          _this.clientmap = res.clients.map(function (item) {\n            return {\n              key: item.serverid,\n              name: item.serverName\n            };\n          });\n          var allObject2 = new Object();\n          allObject2.key = '-1';\n          allObject2.name = '所有服';\n\n          _this.clientmap.unshift(allObject2);\n\n          var clientMap = new Map();\n\n          _this.clientmap.forEach(function (item, indx) {\n            clientMap.set(item.key, item.name);\n          });\n\n          _this.data = _this.tableDataProcess(res.msg, creativeMap, clientMap);\n          _this.sharePayResultTypesCC = _this.tableDataProcess(res.sharePayResultTypesCC, creativeMap, clientMap);\n          var datac = [];\n\n          _this.data.forEach(function (item) {\n            datac.push(item.installNum);\n          });\n\n          _this.datas = _this.f2DI(datac, _this.searchForm.day, _this.data, 0);\n\n          _this.surveyOneLine.changeData(_this.datas);\n        }\n      });\n    },\n    showclients: function showclients(val) {\n      if (this.key == 'all') {\n        this.showcreative = false;\n        this.showclient = false;\n        this.showcc = true;\n        delete this.searchForm.creative;\n        this.searchForm.clientid = '';\n        this.init();\n      } else if (this.key == 'creative') {\n        this.showcreative = true;\n        this.showclient = false;\n        this.showcc = false;\n        this.searchForm.creative = '0';\n        this.searchForm.clientid = '';\n        this.init();\n      } else {\n        this.showcreative = false;\n        this.showclient = true;\n        this.showcc = false;\n        delete this.searchForm.creative;\n        this.searchForm.clientid = '-1';\n        this.init();\n      }\n    },\n    handleColumns: function handleColumns(access) {\n      var _this2 = this;\n\n      this.columnspro.map(function (item, index) {\n        var checkAccess = item.checkAccess;\n\n        if (checkAccess) {\n          if (checkAccess - Number(access) == 0) {\n            _this2.columnspro.splice(index, 1);\n          } else {\n            console.log(index);\n          }\n        }\n      });\n    },\n    weekFunction: function weekFunction(ds) {\n      var week = new Date(ds);\n      var dateweek = week.getDay();\n      var i = 7 - dateweek;\n\n      switch (i) {\n        case 7:\n          ds = ds + \"(七)\";\n          break;\n\n        case 1:\n          ds = ds + \"(六)\";\n          break;\n\n        case 2:\n          ds = ds + \"(五)\";\n          break;\n\n        case 3:\n          ds = ds + \"(四)\";\n          break;\n\n        case 4:\n          ds = ds + \"(三)\";\n          break;\n\n        case 5:\n          ds = ds + \"(二)\";\n          break;\n\n        case 6:\n          ds = ds + \"(一)\";\n          break;\n\n        default:\n      }\n\n      return ds;\n    },\n    surveyOneLineChart: function surveyOneLineChart() {\n      /*---------------------单折线图-------------------*/\n      this.surveyOneLine = new G2.Chart({\n        container: 'surveyOneLine',\n        forceFit: true,\n        height: 300\n      });\n      this.surveyOneLine.source(this.datas, {});\n      this.surveyOneLine.scale('value', {\n        min: 0,\n        alias: '人数'\n      });\n      this.surveyOneLine.scale('time', {\n        // range: [0, 1]\n        tickCount: 9\n      });\n      this.surveyOneLine.tooltip({\n        crosshairs: {\n          type: 'line'\n        }\n      }); // 坐标轴文本旋转\n\n      this.surveyOneLine.axis('time', {\n        label: {\n          rotate: -Math.PI / 4,\n          textAlign: 'end',\n          textBaseline: 'middle'\n        }\n      });\n      this.surveyOneLine.line().position('time*value').shape('smooth');\n      this.surveyOneLine.point().position('time*value').size(4).shape('circle').style({\n        stroke: '#fff',\n        lineWidth: 1\n      }).color('l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF');\n      this.surveyOneLine.area().position('time*value').shape('smooth');\n      this.surveyOneLine.render(); // return this.surveyOneLine;\n    },\n    f2DI: function f2DI(data, date, listData, type) {\n      var datas = [];\n\n      if (date == 0 || date == 1) {\n        listData.forEach(function (info) {\n          var item = new Object();\n\n          if (type == 0) {\n            item.value = info.dauNum;\n          } else {\n            item.value = info.installNum;\n          }\n\n          item.time = info.dayOfHour + '时';\n          datas.push(item);\n        });\n      } else {\n        listData.forEach(function (item, index) {\n          var info = new Object();\n          info.time = item.ds.substr(5, 5);\n          info.value = item.installNum;\n          datas.push(info);\n        });\n      }\n\n      if (date == \"7\" || date == \"30\" || date == \"0\") {\n        //该方法会改变原来的数组，而不会创建新的数组\n        datas.reverse();\n      }\n\n      return datas;\n    },\n    getTime: function getTime(index) {\n      var myDate = new Date();\n      myDate.setTime(myDate.getTime() - 24 * 60 * 60 * 1000 * (index + 1));\n      var dateTime = myDate.getMonth() + 1 + \"-\" + myDate.getDate();\n      return dateTime;\n    },\n    tableDataProcess: function tableDataProcess(data, creativeMap, clientMap) {\n      var _this3 = this;\n\n      if (data) {\n        data.forEach(function (item) {\n          item.ds = _this3.weekFunction(item.ds);\n          item.client = clientMap.get(String(item.clientid)) === undefined ? item.client : clientMap.get(String(item.clientid));\n          item.creative = creativeMap.get(item.creative) === undefined ? item.creative : creativeMap.get(item.creative);\n          item.payInstallRate = item.installNum == 0 ? 0 : (item.payInstallCount * 100 / item.installNum).toFixed(2);\n          item.payInstallARPU = item.installNum == 0 ? 0 : (item.payInstallAmount / item.installNum).toFixed(2);\n          item.payInstallARPPU = item.payInstallCount == 0 ? 0 : (item.payInstallAmount / item.payInstallCount).toFixed(2);\n          item.payInstallAmount = item.payInstallAmount / _this3.getStore(\"currencyRate\");\n        });\n      }\n\n      return data;\n    }\n  },\n  mounted: function mounted() {\n    this.init();\n    this.surveyOneLineChart();\n  }\n};",{"version":3,"sources":["reportAdd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div style=\"background-color:#fff;\">\n        <!--        <div style=\"position: absolute;background-color:#fff;border-radius: 10px 10px 10px 10px;width: 30%;height: 450px;line-height: 50px\">-->\n        <div>\n            <div v-show=\"isShow\">\n                <RadioGroup v-model=\"searchForm.source\" type=\"button\" @on-change=\"init()\">\n                    <Radio style=\"margin: 10px 10px\" label=\"0\">用户</Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"1\">设备</Radio>\n                </RadioGroup>\n            </div>\n            <div>\n                <RadioGroup v-model=\"searchForm.os\" type=\"button\" @on-change=\"init()\">\n                    <Radio style=\"margin: 10px 10px\" label=\"0\">\n                        <span>ALL</span>\n                    </Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"1\">\n                        <span>ANDROID</span>\n                    </Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"2\">\n                        <span>IOS</span>\n                    </Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"-1\">\n                        <span>NONE</span>\n                    </Radio>\n                </RadioGroup>\n            </div>\n            <div>\n                <RadioGroup v-model=\"searchForm.day\" type=\"button\" @on-change=\"init()\">>\n                    <Radio style=\"margin: 10px 10px\" label=\"0\">今天</Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"1\">昨天</Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"7\">7天</Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"30\">30天</Radio>\n                </RadioGroup>\n            </div>\n            <div>\n                <RadioGroup v-model=\"key\" type=\"button\" @on-change=\"showclients(key)\">>\n                    <Radio style=\"margin: 10px 10px\" label=\"all\">概况</Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"creative\">渠道</Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"client\">分服</Radio>\n                </RadioGroup>\n            </div>\n            <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"70\" class=\"search-form\">\n                <Form-item label=\"\" prop=\"creative\" v-if=\"showcreative\">\n                    <Select @on-change=\"init()\" v-model=\"searchForm.creative\" style=\"width:200px\">\n                        <Option v-for=\"item in creativemap\" :value=\"item.key\" :key=\"item.key\">{{ item.name}}</Option>\n                    </Select>\n                </Form-item>\n                <Form-item label=\"\" prop=\"client\" v-if=\"showclient\">\n                    <Select @on-change=\"init()\" v-model=\"searchForm.clientid\" style=\"width:200px\">\n                        <Option v-for=\"item in clientmap\" :value=\"item.key\" :key=\"item.key\">{{ item.name }}</Option>\n                    </Select>\n                </Form-item>\n            </Form>\n        </div>\n\n        <div>\n            <vTitleHead :inputName=\"installChart\"></vTitleHead>\n            <div style=\"background-color:#fff;border-radius: 0 0 10px 10px\" id=\"surveyOneLine\"></div>\n        </div>\n\n        <div style=\"margin-top: 20px\">\n            <vTitleHead :inputName=\"installTable\"></vTitleHead>\n            <Row>\n                <Table  height=\"405\" :loading=\"loadingAdd\" border :columns=\"columnspro\" :data=\"data\" sortable=\"custom\"\n                       ref=\"table\"></Table>\n            </Row>\n        </div>\n\n        <div v-if=\"showcc\" style=\"margin-top: 20px\">\n            <vTitleHead :inputName=\"installTables\"></vTitleHead>\n            <Row>\n                <Table height=\"405\" highlight-row border :columns=\"columnscc\" :data=\"sharePayResultTypesCC\"\n                       ref=\"table\"></Table>\n            </Row>\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import {queryAllPayReq} from '@/api/index';\n    import vTitleHead from '../../game/template/TitleHead';\n\n    export default {\n        name: 'pay',\n        components: {vTitleHead},\n        comments: {},\n        data() {\n            return {\n                loadingAdd:true,\n                isShow: true,\n                installTable: '新增数据',\n                installTables: '新增数据(Android/iOS)',\n                installChart: '新增趋势',\n                columnspro: [],\n                columns: [\n                    {\n                        title: '日期(星期)',\n                        key: 'ds',\n                        align: 'center',\n                        width: 150\n                        // sortable: true\n                    },\n                    {\n                        title: '操作系统',\n                        key: 'os',\n                        width: 100,\n                        align: 'center',\n                        checkAccess: [2]\n                        // sortable: true,\n                        // fixed: 'left'\n                    },\n                    {\n                        title: '小时',\n                        key: 'dayOfHour',\n                        width: 100,\n                        checkAccess: [3]\n                        //   render:(h,params)=>{\n                        //       return h('div', { style: {\n                        //               display:(params.row.dayOfHour==0)?\"none\":\"inline-block\",\n                        //               color: '#FF7D41'\n                        //       }\n                        //       },params.row.dayOfHour);\n                        // },\n                        // sortable: true\n                    },\n                    {\n                        title: '渠道',\n                        key: 'creative',\n                        width: 100,\n                        align: 'center',\n                        checkAccess: [4]\n                        // sortable: true\n                    },\n                    {\n                        title: '服',\n                        key: 'clientid',\n                        width: 100,\n                        align: 'center',\n                        checkAccess: [1]\n                        // sortable: true\n                    },\n                    {\n                        title: '注册数',\n                        key: 'installNum',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '新付费率（%）',\n                        key: 'payInstallRate',\n                        align: 'center',\n                        width: 130\n                    },\n                    {\n                        title: '新付费ARPU',\n                        key: 'payInstallARPU',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '新付费ARPPU',\n                        key: 'payInstallARPPU',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '新付费人数',\n                        key: 'payInstallCount',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '新付费总额',\n                        key: 'payInstallAmount',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '新付费次数',\n                        key: 'payInstallTimes',\n                        // align: 'center',\n                        // width: 100\n                    },\n                    // {\n                    // \ttitle: '创建时间',\n                    // \tkey: 'createTime',\n                    // \tsortable: true,\n                    // \tsortType: 'desc',\n                    // \twidth: 150\n                    // },\n                ],\n                columnscc: [\n                    {\n                        title: '日期(星期)',\n                        key: 'ds',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '操作系统',\n                        key: 'os',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '注册数',\n                        key: 'installNum',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '新付费率（%）',\n                        key: 'payInstallRate',\n                        align: 'center',\n                        width: 130\n                    },\n                    {\n                        title: '新付费ARPU',\n                        key: 'payInstallARPU',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '新付费ARPPU',\n                        key: 'payInstallARPPU',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '新付费人数',\n                        key: 'payInstallCount',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '新付费总额',\n                        key: 'payInstallAmount',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '新付费次数',\n                        key: 'payInstallTimes',\n                        // width: 150\n                        // sortable: true\n                    },\n                ],\n                data: [],\n                searchForm: {\n                    source: '0',\n                    creativeid: '',\n                    clientid: '',\n                    gameid: parseInt(this.getStore('gameid')),\n                    day: '7',\n                    os: '0',\n                    page: 1\n                },\n                total: 0,\n                games: [],\n                sharePayResultTypesCC: [],\n                creatives: [],\n                clients: [],\n                clientmap: [],\n                creativemap: [],\n                surveyOneLine: {},\n                datas: [],\n                key: 'all',\n                showcreative: false,\n                showclient: false,\n                showcc: true\n            };\n        },\n        methods: {\n            init() {\n                this.loadingAdd = true;\n                if (this.getStore('parentId') == 0) {\n                    this.isShow = true\n                } else {\n                    this.isShow = false\n                }\n                this.queryAllServer();\n            },\n            handleSearch() {\n                this.queryAllServer();\n            },\n            queryAllServer() {\n                this.columnspro = JSON.parse(JSON.stringify(this.columns));\n                if (this.searchForm.day != 0 && this.searchForm.day != 1) {\n                    this.handleColumns(3)\n                }\n                if (this.searchForm.os == 0 && this.searchForm.clientid == '' && this.searchForm.creative == null) {\n                    this.handleColumns(2)\n                }\n                if (this.searchForm.clientid == '') {\n                    this.handleColumns(1)\n                }\n                if (this.searchForm.creative == null) {\n                    this.handleColumns(4)\n                }\n                queryAllPayReq(this.searchForm).then(res => {\n                    this.loadingAdd = false;\n                    if (res.success) {\n                        this.sharePayResultTypesCC = res.sharePayResultTypesCC;\n                        this.creatives = res.creatives;\n                        this.clients = res.clients;\n                        //\n                        this.creativemap = (res.creatives).map(item => ({\n                            key: item.creativeid,\n                            name: item.creativeName,\n                        }));\n                        let allObject = new Object();\n                        allObject.key = '0';\n                        allObject.name = '全渠道';\n                        this.creativemap.unshift(allObject);\n                        let creativeMap = new Map();\n                        this.creativemap.forEach((item, index) => {\n                            creativeMap.set(item.key, item.name)\n                        })\n                        //\n                        this.clientmap = (res.clients).map(item => ({\n                            key: item.serverid,\n                            name: item.serverName,\n                        }));\n                        let allObject2 = new Object();\n                        allObject2.key = '-1'\n                        allObject2.name = '所有服'\n                        this.clientmap.unshift(allObject2);\n                        let clientMap = new Map();\n                        this.clientmap.forEach((item, indx) => {\n                            clientMap.set(item.key, item.name)\n                        })\n\n                        this.data = this.tableDataProcess(res.msg, creativeMap, clientMap);\n                        this.sharePayResultTypesCC = this.tableDataProcess(res.sharePayResultTypesCC, creativeMap, clientMap);\n\n                        let datac = [];\n                        this.data.forEach(item => {\n                            datac.push(item.installNum);\n                        });\n                        this.datas = this.f2DI(datac, this.searchForm.day, this.data, 0);\n                        this.surveyOneLine.changeData(this.datas);\n\n                    }\n                });\n            },\n            showclients(val) {\n                if (this.key == 'all') {\n                    this.showcreative = false;\n                    this.showclient = false;\n                    this.showcc = true;\n                    delete this.searchForm.creative;\n                    this.searchForm.clientid = '';\n                    this.init()\n                } else if (this.key == 'creative') {\n                    this.showcreative = true;\n                    this.showclient = false;\n                    this.showcc = false;\n                    this.searchForm.creative = '0';\n                    this.searchForm.clientid = '';\n                    this.init()\n                } else {\n                    this.showcreative = false;\n                    this.showclient = true;\n                    this.showcc = false;\n                    delete this.searchForm.creative;\n                    this.searchForm.clientid = '-1';\n                    this.init()\n                }\n            },\n            handleColumns(access) {\n                this.columnspro.map((item, index) => {\n                    let checkAccess = item.checkAccess\n                    if (checkAccess) {\n                        if (checkAccess - Number(access) == 0) {\n                            this.columnspro.splice(index, 1)\n                        } else {\n                            console.log(index)\n                        }\n                    }\n                })\n            },\n            weekFunction: function (ds) {\n                let week = new Date(ds);\n                let dateweek = week.getDay();\n                let i = 7 - dateweek;\n                switch (i) {\n                    case 7:\n                        ds = ds + \"(七)\";\n                        break\n                    case 1:\n                        ds = ds + \"(六)\";\n                        break\n                    case 2:\n                        ds = ds + \"(五)\";\n                        break\n                    case 3:\n                        ds = ds + \"(四)\";\n                        break\n                    case 4:\n                        ds = ds + \"(三)\";\n                        break\n                    case 5:\n                        ds = ds + \"(二)\";\n                        break\n                    case 6:\n                        ds = ds + \"(一)\";\n                        break\n                    default:\n                }\n                return ds;\n            },\n            surveyOneLineChart() {\n                /*---------------------单折线图-------------------*/\n                this.surveyOneLine = new G2.Chart({\n                    container: 'surveyOneLine',\n                    forceFit: true,\n                    height: 300\n                });\n                this.surveyOneLine.source(this.datas, {});\n                this.surveyOneLine.scale('value', {\n                    min: 0,\n                    alias: '人数',\n                });\n                this.surveyOneLine.scale('time', {\n                    // range: [0, 1]\n                    tickCount: 9,\n                });\n                this.surveyOneLine.tooltip({\n                    crosshairs: {\n                        type: 'line'\n                    }\n                });\n                // 坐标轴文本旋转\n                this.surveyOneLine.axis('time', {\n                    label: {\n                        rotate: -Math.PI / 4,\n                        textAlign: 'end',\n                        textBaseline: 'middle'\n                    }\n                });\n                this.surveyOneLine.line().position('time*value').shape('smooth');\n                this.surveyOneLine.point().position('time*value')\n                    .size(4)\n                    .shape('circle')\n                    .style({\n                        stroke: '#fff',\n                        lineWidth: 1\n                    })\n                    .color('l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF');\n                this.surveyOneLine.area().position('time*value').shape('smooth');\n                this.surveyOneLine.render();\n                // return this.surveyOneLine;\n            },\n            f2DI: function (data, date, listData, type) {\n                let datas = [];\n                if (date == 0 || date == 1) {\n                    listData.forEach(info => {\n                        let item = new Object();\n                        if (type == 0) {\n                            item.value = info.dauNum;\n                        } else {\n                            item.value = info.installNum;\n                        }\n                        item.time = info.dayOfHour + '时';\n                        datas.push(item);\n                    });\n                } else {\n                    listData.forEach((item, index) => {\n                        let info = new Object();\n                        info.time = (item.ds).substr(5, 5);\n                        info.value = item.installNum;\n                        datas.push(info);\n                    });\n                }\n                if (date == \"7\" || date == \"30\" || date == \"0\") {\n                    //该方法会改变原来的数组，而不会创建新的数组\n                    datas.reverse();\n                }\n                return datas;\n            },\n            getTime: function (index) {\n                let myDate = new Date();\n                myDate.setTime(myDate.getTime() - 24 * 60 * 60 * 1000 * (index + 1));\n                let dateTime = (myDate.getMonth() + 1) + \"-\" + myDate.getDate();\n                return dateTime;\n            },\n            tableDataProcess(data, creativeMap, clientMap) {\n                if (data) {\n                    data.forEach((item) => {\n                        item.ds = this.weekFunction(item.ds);\n                        item.client = clientMap.get(String(item.clientid)) === undefined ? item.client : clientMap.get(String(item.clientid));\n                        item.creative = creativeMap.get(item.creative) === undefined ? item.creative : creativeMap.get(item.creative);\n                        item.payInstallRate = item.installNum == 0 ? 0 : (item.payInstallCount * 100 / item.installNum).toFixed(2);\n                        item.payInstallARPU = item.installNum == 0 ? 0 : (item.payInstallAmount / item.installNum).toFixed(2);\n                        item.payInstallARPPU = item.payInstallCount == 0 ? 0 : (item.payInstallAmount / item.payInstallCount).toFixed(2);\n                        item.payInstallAmount = item.payInstallAmount / this.getStore(\"currencyRate\");\n\n                    })\n                }\n                return data;\n            },\n        },\n        mounted() {\n            this.init();\n            this.surveyOneLineChart();\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/views/reportData/reportAdd"}]}