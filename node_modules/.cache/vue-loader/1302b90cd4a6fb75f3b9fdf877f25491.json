{"remainingRequest":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportData/reportData/reportData.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/src/views/reportData/reportData/reportData.vue","mtime":1585813505283},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hoolai/Documents/tyz/workspace-ws/baobao-admin-front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {queryDaily} from '@/api/index';\nimport vTitleHead from '../../game/template/TitleHead';\n\nconst initData = {\n    '今天': 0,\n    '昨天': 1,\n    '7日': 7,\n    '30日': 30\n}\nconst initPhone = {\n    'ALL': 0,\n    'ANDROID': 1,\n    'IOS': 2\n}\n\nexport default {\n    name: \"reportData\",\n    components: {vTitleHead},\n    data() {\n        return {\n            loadingData: true,\n            defShow: true,\n            tableTrue: true,\n            value1: '1',\n            isShowCondition: false,\n            name: '概况数据',\n            systemName: '操作系统百分比(活跃/新增)',\n            dau: '活跃',\n            install: '新增',\n            pay: '付费',\n            retention: '留存(%)',\n            payChart: '付费数据',\n            retenTable: '留存数据(%)',\n            isShow: true,\n            isDevice: '用户',\n            phone: 'ALL',\n            data: '7日',\n            dauOrInstall: '活跃',\n            listData: [],\n            payList: [],\n            retentionDataList: [],\n            datas: [],\n            isccc: 99,\n            realtimeStatis: [{\n                value: '',\n                payRate: '',\n                payARPU: '',\n                payARPPU: '',\n            }, {\n                value: '',\n                payRate: '',\n                payARPU: '',\n                payARPPU: '',\n            }, {\n                value: '',\n                payRate: '',\n                payARPU: '',\n                payARPPU: '',\n            }],\n            retentionDataList: [{\n                ds: '',\n                oneRetentionPercentage: ''\n            }, {\n                ds: '',\n                oneRetentionPercentage: '',\n                twoRetentionPercentage: '',\n            }, {\n                ds: '',\n                oneRetentionPercentage: '',\n                twoRetentionPercentage: '',\n                threeRetentionPercentage: ''\n            }],\n            handelPayCount: [],\n            finalTable: [],\n            columnsHeadrReal: [\n                {\n                    title: '日期（星期）',\n                    key: 'ds',\n                    width: 120,\n                    fixed: 'left'\n                },\n                {\n                    title: '～时',\n                    key: 'dayOfHour',\n                    align: 'center',\n                    width: 80,\n                    fixed: 'left'\n                }\n            ],\n            columnsHeadr: [\n                {\n                    title: '日期（星期）',\n                    key: 'ds',\n                    width: 120,\n                    align: 'center',\n                    fixed: 'left'\n                }\n            ],\n            columnsOver: [\n                {\n                    title: '注册数',\n                    key: 'installNum',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '活跃数',\n                    key: 'dauNum',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '付费人数',\n                    key: 'payCount',\n                    align: 'center',\n                    width: 100\n                },\n                {\n                    title: '付费总额',\n                    key: 'payAmount',\n                    align: 'center',\n                    width: 100\n                },\n                {\n                    title: '付费率（%）',\n                    key: 'payRate',\n                    align: 'center',\n                    width: 120\n                },\n                {\n                    title: 'ARPU',\n                    key: 'ARPU',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: 'ARPPU',\n                    key: 'ARPPU',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '注册付费率（%）',\n                    key: 'payInstallRate',\n                    align: 'center',\n                    width: 140\n                },\n                {\n                    title: '注册付费人数',\n                    key: 'payInstallCount',\n                    align: 'center',\n                    width: 120\n                },\n                {\n                    title: '注册付费总额',\n                    key: 'payInstallAmount',\n                    align: 'center',\n                    width: 120\n                },\n                {\n                    title: '注册付费ARPU',\n                    key: 'payInstallARPU',\n                    align: 'center',\n                    width: 150\n                },\n                {\n                    title: '注册付费ARPPU',\n                    key: 'payInstallARPPU',\n                    align: 'center',\n                    width: 150\n                },\n                {\n                    title: '付费次数',\n                    key: 'payTimes',\n                    align: 'center',\n                    width: 120\n                },\n                {\n                    title: '注册付费次数',\n                    key: 'payInstallTimes',\n                    align: 'center',\n                    width: 120\n                }\n            ],\n            columns: [],\n            retentionTable: [\n                // {\n                //     type: 'selection',\n                //     width: 60,\n                //     align: 'center',\n                //     fixed: 'left'\n                // },\n                // {\n                //     type: 'index',\n                //     width: 60,\n                //     align: 'center',\n                //     fixed: 'left'\n                // },\n                {\n                    title: '日期（星期）',\n                    key: 'ds',\n                    align: 'center',\n                    width: 120,\n                    fixed: 'left'\n                },\n                {\n                    title: '安装数',\n                    key: 'installNum',\n                    align: 'center',\n                    width: 80,\n                    fixed: 'left'\n                },\n                {\n                    title: '1日',\n                    key: 'oneRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '2日',\n                    key: 'twoRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '3日',\n                    key: 'threeRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '4日',\n                    key: 'fourRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '5日',\n                    key: 'fiveRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '6日',\n                    key: 'sixRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '7日',\n                    key: 'sevenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '8日',\n                    key: 'eightRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '9日',\n                    key: 'nineRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '10日',\n                    key: 'tenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '11日',\n                    key: 'elevenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '12日',\n                    key: 'twelveRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '13日',\n                    key: 'thirteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '14日',\n                    key: 'fourteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '15日',\n                    key: 'fifteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '16日',\n                    key: 'sixteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '17日',\n                    key: 'seventeenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '18日',\n                    key: 'eighteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '19日',\n                    key: 'nineteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '20日',\n                    key: 'twentyteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '21日',\n                    key: 'twentyOneteenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '22日',\n                    key: 'twentyTwoRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '23日',\n                    key: 'twentyThreeRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '24日',\n                    key: 'twentyFourRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '25日',\n                    key: 'twentyFiveRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '26日',\n                    key: 'twentySixRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '27日',\n                    key: 'twentySevenRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '28日',\n                    key: 'twentyEightRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '29日',\n                    key: 'twentyNineRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                },\n                {\n                    title: '30日',\n                    key: 'thirtyRetentionPercentage',\n                    align: 'center',\n                    width: 80\n                }\n            ],\n            surveyOneLine: {},\n            surveyManyLine: {},\n            davChart: {},\n            chartData: [],\n            map_pieChartD: {},\n            map_pieChartI: {},\n        };\n    },\n    methods: {\n        tableOnClick(row,info) {\n            if(info >= 0){\n             return 'demoTableInfoRow'\n            }\n\n        },\n        enter() {\n            this.isShowCondition = true;\n        },\n        leave() {\n            this.isShowCondition = false;\n        },\n        init() {\n            this.loadingData = true;\n            if (this.getStore('parentId') == 0) {\n                this.isShow = true\n            } else {\n                this.isShow = false\n            }\n            this.initTable();\n            this.queryDaily();\n        },\n        surveyManyLineChart() {\n            /*---------------------多折线图-------------------*/\n            this.surveyManyLine = new G2.Chart({\n                container: 'surveyManyLine',\n                forceFit: true,\n                height: 295\n            });\n            this.surveyManyLine.source(this.handelPayCount, {});\n            this.surveyManyLine.scale('value', {\n                min: 0,\n                alias: '人数',\n            });\n            this.surveyManyLine.scale('time', {\n                tickCount: 10,\n            });\n            this.surveyManyLine.tooltip({\n                crosshairs: {\n                    type: 'line'\n                }\n            });\n            // 坐标轴文本旋转\n            this.surveyManyLine.axis('time', {\n                label: {\n                    rotate: -Math.PI / 2.5,\n                    textAlign: 'end',\n                    textBaseline: 'middle'\n                }\n            });\n            this.surveyManyLine.axis('time', {\n                label: {\n                    formatter: val => {\n                        return val;\n                    }\n                }\n            });\n            //设置图列居中显示\n            this.surveyManyLine.legend({\n                position: 'bottom', //图列位置\n                align: 'center', //图例的对齐方式\n                itemWidth: null\n            });\n            this.surveyManyLine\n                .line()\n                .position('time*value')\n                .color('type')\n                .shape('smooth');\n            this.surveyManyLine\n                .point()\n                .position('time*value')\n                .color('type')\n                .size(4)\n                .shape('circle')\n                .style({\n                    stroke: '#fff',\n                    lineWidth: 1\n                });\n            this.surveyManyLine.render();\n        },\n        surveyOneLineChart() {\n            /*---------------------单折线图-------------------*/\n            this.surveyOneLine = new G2.Chart({\n                container: 'surveyOneLine',\n                forceFit: true,\n                height: 295\n            });\n            this.surveyOneLine.source(this.datas, {});\n            this.surveyOneLine.scale('value', {\n                min: 0,\n                alias: '人数',\n            });\n            this.surveyOneLine.scale('time', {\n                // range: [0, 1]\n                tickCount: 10,\n            });\n            this.surveyOneLine.tooltip({\n                crosshairs: {\n                    type: 'line'\n                }\n            });\n            // 坐标轴文本旋转\n            this.surveyOneLine.axis('time', {\n                label: {\n                    rotate: -Math.PI / 2.5,\n                    textAlign: 'end',\n                    textBaseline: 'middle'\n                }\n            });\n            // this.surveyOneLine.line().position('time*value').shape('smooth').color('l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF');\n            this.surveyOneLine.point().position('time*value')\n                .size(4)\n                .shape('circle')\n                .style({\n                    stroke: '#fff',\n                    lineWidth: 1\n                })\n                .color('l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF');\n            this.surveyOneLine.area().position('time*value').shape('smooth');\n            this.surveyOneLine.render();\n            // return this.surveyOneLine;\n        },\n        roundChart() {\n            this.davChart = new G2.Chart({\n                container: 'davChart',\n                // forceFit: true,\n                height: 250,\n                // width: 400,\n            })\n            ;\n            this.davChart.source(this.chartData, {});\n            this.davChart.coord('theta', {\n                radius: 0.75\n            });\n            this.davChart.tooltip({\n                showTitle: false,\n                // itemTpl: '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value}</li>'\n            });\n            this.davChart.intervalStack()\n                .position('dauNum')\n                .color('os')\n                .label('dauNum', {\n                    formatter: (val, item) => {\n                        return this.map_pieChartD[item.point.os] + '/' + val + (item.point.os == 'unknown' ? '' : '/' + item.point.os);\n                    }\n                })\n                .tooltip('os*dauNum', (os, dauNum) => {\n                    return {\n                        name: os,\n                        value: dauNum\n                    };\n                })\n                .style({\n                    lineWidth: 1,\n                    stroke: '#fff'\n                });\n            this.davChart.render();\n\n            this.installChart = new G2.Chart({\n                container: 'installChart',\n                // forceFit: true,\n                height: 250,\n                // width: 400,\n            })\n            ;\n            this.installChart.source(this.chartData, {});\n            this.installChart.coord('theta', {\n                radius: 0.75\n            });\n            this.installChart.tooltip({\n                showTitle: false,\n                // itemTpl: '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value}</li>'\n            });\n            this.installChart.intervalStack()\n                .position('installNum')\n                .color('os')\n                .label('installNum', {\n                    formatter: (val, item) => {\n                        return this.map_pieChartI[item.point.os] + '/' + val + (item.point.os == 'unknown' ? '' : '/' + item.point.os);\n                    }\n                })\n                .tooltip('os*installNum', (os, dauNum) => {\n                    return {\n                        name: os,\n                        value: dauNum\n                    };\n                })\n                .style({\n                    lineWidth: 1,\n                    stroke: '#fff'\n                });\n            this.installChart.render();\n        },\n        initTable() {\n            if (initData[this.data] == 1 || initData[this.data] == 0) {\n                this.columns = this.columnsHeadrReal.concat(this.columnsOver);\n            } else {\n                this.columns = this.columnsHeadr.concat(this.columnsOver);\n            }\n\n            let tables = [];\n            let selection = new Object();\n            selection.type = 'selection';\n            selection.width = 60;\n            selection.align = 'center';\n            selection.fixed = 'left';\n            let index = new Object();\n            index.type = 'index';\n            index.width = 60;\n            index.align = 'center';\n            index.fixed = 'left';\n            let title = new Object();\n            title.title = '日期（星期）';\n            title.key = 'ds';\n            title.width = 150;\n            title.fixed = 'left';\n            // let days = [];\n            // for (let i = 1; i <= 30; i++) {\n            //     let dayObj = new Object();\n            //     dayObj.title = i + '日';\n            //     dayObj.key = [i + 'day'];\n            //     dayObj.width = 150;\n            //     days.push(dayObj);\n            // }\n            tables.push(selection);\n            tables.push(index);\n            tables.push(title);\n            // let finalTable = tables.concat(days);\n            // this.finalTable = finalTable;\n        },\n        queryDaily() {\n            let params = {\n                gameid: parseInt(this.getStore('gameid')),\n                deviceType: parseInt(this.isDevice === '用户' ? 0 : 1),\n                osType: initPhone[this.phone],\n                data: parseInt(initData[this.data]),\n                hxType: parseInt(this.dauOrInstall === '活跃' ? 0 : 1),\n            }\n            queryDaily(params).then(e => {\n                this.loadingData = false;\n                if (e.success) {\n                    let percentage = []\n                    if (e.androidIosProportions.length > 0) {\n                        this.defShow = true;\n                        percentage = this.androidIosProportions(e.androidIosProportions);\n                    } else {\n                        this.defShow = false;\n                    }\n                    this.listData = this.tableDataProcess(e.shareDailyResultTypes, percentage);\n                    this.payList = e.payList;\n                    if(e.shareRetentionList.length >0) {\n                        this.retentionDataList = this.saturday(e.shareRetentionList);\n                    }\n                    this.datas = this.f2DI(e.dauNumOrInstallNumList, initData[this.data].toString(), this.listData, parseInt(this.dauOrInstall === '活跃' ? 0 : 1));\n                    this.handelPayCount = this.makeCavas(this.listData, initData[this.data]);\n                    this.chartData = this.makePieChart(e.androidIosProportions);\n                    this.surveyOneLine.changeData(this.datas);\n                    this.surveyManyLine.changeData(this.handelPayCount);\n                    this.davChart.changeData(this.chartData);\n                    this.installChart.changeData(this.chartData);\n                }\n            });\n        },\n        makePieChart: function (info) {\n            let dauNumTotal = 0,\n                installNumTotal = 0;\n            info.forEach(item => {\n                dauNumTotal += item.dauNum;\n                installNumTotal += item.installNum;\n            })\n            var map_pieChartD = {},\n                map_pieChartI = {};\n            info.map(function (obj) {\n                map_pieChartD[obj.os] = (obj.dauNum / dauNumTotal * 100).toFixed(2) + '%';\n                map_pieChartI[obj.os] = (obj.installNum / installNumTotal * 100).toFixed(2) + '%';\n            })\n            this.map_pieChartD = map_pieChartD;\n            this.map_pieChartI = map_pieChartI;\n            return info;\n        },\n        androidIosProportions: (data) => {\n            if (data) {\n                let dauNumSum = 0,\n                    installNumSum = 0,\n                    androidDauNum = 0,\n                    androidInstallNum = 0,\n                    iosDauNum = 0,\n                    iosInstallNum = 0,\n                    info = [];\n                data.forEach((item) => {\n                    dauNumSum += item.dauNum;\n                    installNumSum += item.installNum;\n                    if (item.os == 'android') {\n                        androidDauNum += item.dauNum;\n                        androidInstallNum += item.installNum;\n                    }\n                    if (item.os == 'iOS') {\n                        iosDauNum += item.dauNum;\n                        iosInstallNum += item.installNum;\n                    }\n                })\n                info.push(((androidDauNum / dauNumSum * 100).toFixed(2)) + '%');\n                info.push(((iosDauNum / dauNumSum * 100).toFixed(2)) + '%');\n                info.push(((androidInstallNum / installNumSum * 100).toFixed(2)) + '%');\n                info.push(((iosInstallNum / installNumSum * 100).toFixed(2)) + '%');\n                return info;\n            }\n        },\n        tableDataProcess: function (data, info) {\n            if (data.length > 0) {\n                let activeNum = 0,\n                    newIntall = 0,\n                    payTotal = 0,\n                    payCount = 0;\n\n                data.forEach((item) => {\n                    activeNum += item.dauNum;\n                    newIntall += item.installNum;\n                    payTotal += item.payAmount;\n                    payCount += item.payCount;\n\n                    item.ds = this.weekFunction(item.ds);\n                    item.payAmount = item.payAmount / this.getStore(\"currencyRate\");\n                    item.payRate = item.dauNum == 0 ? 0 : (item.payCount * 100 / item.dauNum).toFixed(2);\n                    item.ARPU = item.dauNum == 0 ? 0 : (item.payAmount / item.dauNum).toFixed(2);\n                    item.ARPPU = item.payCount == 0 ? 0 : (item.payAmount / item.payCount).toFixed(2);\n                    item.payInstallAmount = item.payInstallAmount / this.getStore(\"currencyRate\");\n                    item.payInstallRate = item.installNum == 0 ? 0 : (item.payInstallCount * 100 / item.installNum).toFixed(2);\n                    item.payInstallARPU = item.installNum == 0 ? 0 : (item.payInstallAmount / item.installNum).toFixed(2);\n                    item.payInstallARPPU = item.payInstallCount == 0 ? 0 : (item.payInstallAmount / item.payInstallCount).toFixed(2);\n                });\n                if (info.length > 0) {\n                    let realtimeArray = [];\n                    let realtimeObject1 = new Object();\n                    realtimeObject1.title = '活跃';\n                    realtimeObject1.value = activeNum;\n                    realtimeObject1.payRate = info[0];\n                    realtimeObject1.payARPU = info[1];\n                    let realtimeObject2 = new Object();\n                    realtimeObject2.title = '新增';\n                    realtimeObject2.payRate = info[2];\n                    realtimeObject2.payARPU = info[3];\n                    realtimeObject2.value = newIntall;\n                    let realtimeObject3 = new Object();\n                    realtimeObject3.title = '付费';\n\n                    realtimeObject3.value = payTotal / this.getStore(\"currencyRate\");\n                    realtimeObject3.payRate = (activeNum == 0 ? 0 : (payCount * 100 / activeNum).toFixed(2) + '%');\n                    realtimeObject3.payARPU = (activeNum == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / activeNum).toFixed(2));\n                    realtimeObject3.payARPPU = (payCount == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / payCount).toFixed(2));\n\n                    realtimeArray.push(realtimeObject1);\n                    realtimeArray.push(realtimeObject2);\n                    realtimeArray.push(realtimeObject3);\n                    this.realtimeStatis = realtimeArray;\n                }\n            }\n            return data;\n        },\n        saturday: function (data) {\n            if (data) {\n                data.forEach((item, index) => {\n                    let week = new Date(item.ds);\n                    let dateweek = week.getDay();\n                    let i = 7 - dateweek;\n                    let saturdays = [];\n                    switch (i) {\n                        case 7:\n                            saturdays = ['oneRetentionPercentage', 'eightRetentionPercentage', 'fifteenRetentionPercentage'];\n                            item.ds = item.ds + \"(七)\";\n                            break\n                        case 1:\n                            saturdays = ['sevenRetentionPercentage', 'fourteenRetentionPercentage'];\n                            item.ds = item.ds + \"(六)\";\n                            break\n                        case 2:\n                            saturdays = ['sixRetentionPercentage', 'thirteenRetentionPercentage'];\n                            item.ds = item.ds + \"(五)\";\n                            break\n                        case 3:\n                            saturdays = ['fiveRetentionPercentage', 'twelveRetentionPercentage'];\n                            item.ds = item.ds + \"(四)\";\n                            break\n                        case 4:\n                            saturdays = ['fourRetentionPercentage', 'elevenRetentionPercentage'];\n                            item.ds = item.ds + \"(三)\";\n                            break\n                        case 5:\n                            saturdays = ['threeRetentionPercentage', 'tenRetentionPercentage'];\n                            item.ds = item.ds + \"(二)\";\n                            break\n                        case 6:\n                            saturdays = ['twoRetentionPercentage', 'nineRetentionPercentage'];\n                            item.ds = item.ds + \"(一)\";\n                            break\n                        default:\n                    }\n                    ;\n                    item.special = saturdays;\n                    item.oneSpecial = saturdays[0];\n                    item.twoSpecial = saturdays[1];\n                })\n                return data;\n            }\n        },\n        f2DI: function (data, date, listData, type) {\n            let datas = [];\n            if (date == 0 || date == 1) {\n                listData.forEach(info => {\n                    let item = new Object();\n                    if (type == 0) {\n                        item.value = info.dauNum;\n                    } else {\n                        item.value = info.installNum;\n                    }\n                    item.time = info.dayOfHour + '时';\n                    datas.push(item);\n                });\n            } else {\n                data.forEach((item, index) => {\n                    let info = new Object();\n                    info.time = this.getTime(index);\n                    info.value = item;\n                    datas.push(info);\n                });\n            }\n            if (date == \"7\" || date == \"30\" || date == \"0\") {\n                //该方法会改变原来的数组，而不会创建新的数组\n                datas.reverse();\n            }\n            return datas;\n        },\n        getTime: function (index) {\n            let myDate = new Date();\n            myDate.setTime(myDate.getTime() - 24 * 60 * 60 * 1000 * (index + 1));\n            let dateTime = (myDate.getMonth() + 1) + \"-\" + myDate.getDate();\n            return dateTime;\n        },\n        weekFunction: function (ds) {\n            let week = new Date(ds);\n            let dateweek = week.getDay();\n            let i = 7 - dateweek;\n            switch (i) {\n                case 7:\n                    ds = ds + \"(七)\";\n                    break\n                case 1:\n                    ds = ds + \"(六)\";\n                    break\n                case 2:\n                    ds = ds + \"(五)\";\n                    break\n                case 3:\n                    ds = ds + \"(四)\";\n                    break\n                case 4:\n                    ds = ds + \"(三)\";\n                    break\n                case 5:\n                    ds = ds + \"(二)\";\n                    break\n                case 6:\n                    ds = ds + \"(一)\";\n                    break\n                default:\n            }\n            return ds;\n        },\n        makeCavas: (data, date) => {\n            if (data) {\n                if (date == 0) {\n                    data.sort(function (a, b) {\n                        return b.dayOfHour - a.dayOfHour;\n                    });\n                }\n                let handelPayCount = [];\n                data.forEach((item, index) => {\n                    let infopayCount = new Object();\n                    if (date != 7 && date != 30) {\n                        infopayCount.time = item.dayOfHour + '时';\n                    } else {\n                        infopayCount.time = (item.ds).substr(5, 5);\n                    }\n                    infopayCount.value = item.payCount;\n                    infopayCount.type = '付费人数';\n                    handelPayCount.push(infopayCount);\n                    let infopayAmount = new Object();\n                    if (date != 7 && date != 30) {\n                        infopayAmount.time = item.dayOfHour + '时';\n                    } else {\n                        infopayAmount.time = (item.ds).substr(5, 5);\n                    }\n                    infopayAmount.value = item.payAmount;\n                    infopayAmount.type = '付费金额';\n                    handelPayCount.push(infopayAmount);\n                    let infopayTimes = new Object();\n                    if (date != 7 && date != 30) {\n                        infopayTimes.time = item.dayOfHour + '时';\n                    } else {\n                        infopayTimes.time = (item.ds).substr(5, 5);\n                    }\n                    infopayTimes.value = item.payTimes;\n                    infopayTimes.type = '付费次数';\n                    handelPayCount.push(infopayTimes);\n                    let infopayInstallCount = new Object();\n                    if (date != 7 && date != 30) {\n                        infopayInstallCount.time = item.dayOfHour + '时';\n                    } else {\n                        infopayInstallCount.time = (item.ds).substr(5, 5);\n                    }\n                    infopayInstallCount.value = item.payInstallCount;\n                    infopayInstallCount.type = '安装付费人数';\n                    handelPayCount.push(infopayInstallCount);\n                    let infopayInstallAmount = new Object();\n                    if (date != 7 && date != 30) {\n                        infopayInstallAmount.time = item.dayOfHour + '时';\n                    } else {\n                        infopayInstallAmount.time = (item.ds).substr(5, 5);\n                    }\n                    infopayInstallAmount.value = item.payInstallAmount;\n                    infopayInstallAmount.type = '安装付费金额';\n                    handelPayCount.push(infopayInstallAmount);\n                    let infoPayInstallTimes = new Object();\n                    if (date != 7 && date != 30) {\n                        infoPayInstallTimes.time = item.dayOfHour + '时';\n                    } else {\n                        infoPayInstallTimes.time = (item.ds).substr(5, 5);\n                    }\n                    infoPayInstallTimes.value = item.payInstallTimes;\n                    infoPayInstallTimes.type = '安装付费次数';\n                    handelPayCount.push(infoPayInstallTimes);\n                });\n                if (date == 7 || date == 30 || date == 0) {\n                    handelPayCount.reverse();\n                }\n                return handelPayCount;\n            }\n        },\n    },\n    mounted() {\n        this.surveyOneLineChart();\n        this.surveyManyLineChart();\n        this.roundChart();\n        this.init();\n    }\n}\n",{"version":3,"sources":["reportData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reportData.vue","sourceRoot":"src/views/reportData/reportData","sourcesContent":["<template>\n    <div style=\"background-color: #fff;\">\n        <div slot=\"content\">\n            <div v-show=\"isShow\">\n                <RadioGroup v-model=\"isDevice\" type=\"button\" @on-change=\"init()\">\n                    <Radio style=\"margin: 10px 10px\" label=\"用户\"></Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"设备\"></Radio>\n                </RadioGroup>\n            </div>\n            <div>\n                <RadioGroup v-model=\"phone\" type=\"button\" @on-change=\"init()\">\n                    <Radio style=\"margin: 10px 10px\" label=\"ALL\">\n                        <!--                        <Icon type=\"logo-windows\"></Icon>-->\n                        <span>ALL</span>\n                    </Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"ANDROID\">\n                        <!--                        <Icon type=\"logo-android\"></Icon>-->\n                        <span>ANDROID</span>\n                    </Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"IOS\">\n                        <!--                        <Icon type=\"logo-apple\"></Icon>-->\n                        <span>IOS</span>\n                    </Radio>\n                </RadioGroup>\n            </div>\n            <div>\n                <RadioGroup v-model=\"data\" type=\"button\" @on-change=\"init()\">>\n                    <Radio style=\"margin: 10px 10px\" label=\"今天\" border></Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"昨天\"></Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"7日\"></Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"30日\"></Radio>\n                </RadioGroup>\n            </div>\n        </div>\n\n        <div>\n            <Row type=\"flex\" justify=\"space-between\"\n                 style=\"margin-bottom: 20px;padding-bottom:10px;border-bottom: 2px solid #EEE8CD\">\n                <Col :xs=\"0\" :sm=\"10\" :md=\"10\" :lg=\"5\"\n                     style=\"height: 200px;background-color:#fff; border-radius: 10px 10px 10px 10px;border: 1px solid #ebebeb\">\n                    <vTitleHead style=\"font-size: 16px;font-weight: 500;\" :inputName=\"dau\"></vTitleHead>\n                    <div v-show=\"defShow\" style=\"height: 130px;line-height: 30px;\n            list-style-type:none;margin-left: 40px;margin-top: 10px;font-size: 14px;font-family: Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif\">\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">人 &nbsp;&nbsp; 数：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[0].value}}</p>\n                        </li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">iOS：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[0].payARPU}}</p>\n                        </li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">Android：</p>\n                            <p style=\"width: 100px; text-align: left\"> {{realtimeStatis[0].payRate}}</p>\n                        </li>\n                    </div>\n                </Col>\n                <Col :xs=\"0\" :sm=\"10\" :md=\"10\" :lg=\"5\"\n                     style=\"height: 200px;background-color:#fff; border-radius: 10px 10px 10px 10px;border: 1px solid #ebebeb\">\n                    <vTitleHead style=\"font-size: 16px;font-weight: 500;\"\n                                :inputName=\"install\"></vTitleHead>\n                    <div v-show=\"defShow\" style=\"height: 130px;line-height: 30px;\n            list-style-type:none; margin-left: 40px;margin-top: 10px;font-size: 14px\">\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">人 &nbsp;&nbsp; 数：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[1].value}}</p></li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">iOS：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[1].payRate}}</p></li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">Android：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[1].payARPU}}</p></li>\n                    </div>\n                </Col>\n                <Col :xs=\"0\" :sm=\"10\" :md=\"10\" :lg=\"5\"\n                     style=\"height: 200px;background-color:#fff; border-radius: 10px 10px 10px 10px;border: 1px solid #ebebeb\">\n                    <vTitleHead style=\"font-size: 16px;font-weight: 500;\" :inputName=\"pay\"></vTitleHead>\n                    <div v-show=\"defShow\" style=\"height: 130px; line-height: 25px;\n            list-style-type:none;margin-left: 40px;margin-top: 10px;font-size: 14px\">\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">总 &nbsp;&nbsp; 额：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[2].value}}(元）</p></li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">付&nbsp;费&nbsp;率：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[2].payRate}}</p></li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">ARPU：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[2].payARPU}}</p></li>\n                        <li style=\"display: inline-flex\"><p style=\"width: 100px;text-align: right\">ARPPU：</p>\n                            <p style=\"width: 100px; text-align: left\">{{realtimeStatis[2].payARPPU}}</p></li>\n                    </div>\n                </Col>\n                <Col :xs=\"0\" :sm=\"10\" :md=\"10\" :lg=\"5\"\n                     style=\"height: 200px;background-color:#fff; border-radius: 10px 10px 10px 10px;border: 1px solid #ebebeb\">\n                    <vTitleHead style=\"font-size: 16px;font-weight: 500;\"\n                                :inputName=\"retention\"></vTitleHead>\n                    <div style=\"height: 130px; line-height: 30px;\n            list-style-type:none;margin-left: 40px;margin-top: 10px;font-size: 14px\">\n                        <li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1日&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2日&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3日</li>\n                        <li>{{retentionDataList[0].ds}} &nbsp;<span\n                                :class=\"parseFloat(retentionDataList[0].oneRetentionPercentage) > 30 ? 'isRed' : ''\">{{retentionDataList[0].oneRetentionPercentage}}</span>\n                        </li>\n                        <li>{{retentionDataList[1].ds}} &nbsp;<span\n                                :class=\"parseFloat(retentionDataList[1].oneRetentionPercentage) > 30 ? 'isRed' : ''\">{{retentionDataList[1].oneRetentionPercentage}}</span>\n                            &nbsp;\n                            &nbsp;<span\n                                    :class=\"parseFloat(retentionDataList[1].twoRetentionPercentage) > 30 ? 'isRed' : ''\">{{retentionDataList[1].twoRetentionPercentage}}</span>\n                        </li>\n                        <li>{{retentionDataList[2].ds}} &nbsp;<span\n                                :class=\"parseFloat(retentionDataList[2].oneRetentionPercentage) > 30 ? 'isRed' : ''\">{{retentionDataList[2].oneRetentionPercentage}}</span>&nbsp;\n                            <span\n                                    :class=\"parseFloat(retentionDataList[2].twoRetentionPercentage) > 30 ? 'isRed' : ''\">{{retentionDataList[2].twoRetentionPercentage}}\n                        </span>&nbsp;<span\n                                    :class=\"parseFloat(retentionDataList[2].threeRetentionPercentage) > 30 ? 'isRed' : ''\">{{retentionDataList[2].threeRetentionPercentage}}</span>\n                        </li>\n                    </div>\n                </Col>\n            </Row>\n        </div>\n        <!--        <div @mouseleave=\"leave()\" style=\"width: 45px\" class=\"conditionHead\">-->\n        <!--            <div style=\"width: 45px;height: 35px;\" class=\"smillPeople\"-->\n        <!--                 @mouseenter=\"enter\"></div>-->\n        <!--            <div v-show=\"isShowCondition\"-->\n        <!--                 style=\"width: 250px;height: 120px;background-color:#EAEAEA;z-index: 999;opacity: 0.9;border-radius: 10px 10px 10px 10px;\">-->\n\n        <!--            </div>-->\n        <!--        </div>-->\n\n        <div style=\"width:45%;height: 300px\" class=\"reportChartLeft\">\n            <div style=\"position: absolute;top: 0px;left: 5%;z-index: 999\">\n                <RadioGroup v-model=\"dauOrInstall\" type=\"button\" @on-change=\"init()\">\n                    <Radio style=\"margin: 10px 10px\" label=\"活跃\"></Radio>\n                    <Radio style=\"margin: 10px 10px\" label=\"新增\"></Radio>\n                </RadioGroup>\n            </div>\n            <vTitleHead></vTitleHead>\n            <div style=\"background-color:#fff; border-radius: 0 0 10px 10px\" id=\"surveyOneLine\"></div>\n        </div>\n        <div class=\"chartBord\">\n            <vTitleHead :inputName=\"systemName\"></vTitleHead>\n        </div>\n        <div class=\"roundChart\">\n            <div id=\"davChart\"></div>\n            <div style=\"width: 50px;color: #40a9ff;position: absolute;left: 100px;top:5px\">活跃</div>\n            <div style=\"width: 50px;color: #40a9ff;position: absolute;left:500px;top:5px\">新增</div>\n            <div style=\"margin-left: -100px\" id=\"installChart\"></div>\n        </div>\n        <div style=\"margin-top: 15px\">\n            <vTitleHead :inputName=\"name\"></vTitleHead>\n            <Row>\n                <Table :rowClassName=\"tableOnClick\" height=\"405\" :disabled-hover=\"false\" highlight-row border :columns=\"columns\"\n                       :data=\"listData\"\n                       ref=\"table\"></Table>\n            </Row>\n        </div>\n\n        <div class=\"menyLine\">\n            <vTitleHead :inputName=\"payChart\"></vTitleHead>\n            <div style=\"background-color:#fff; border-radius: 0 0 10px 10px\" id=\"surveyManyLine\"></div>\n        </div>\n\n        <div class=\"bottomTable\">\n            <vTitleHead :inputName=\"retenTable\"></vTitleHead>\n            <Row>\n                <Table height=\"440\" highlight-row border :columns=\"retentionTable\" :data=\"retentionDataList\"\n                       ref=\"table\"></Table>\n            </Row>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {queryDaily} from '@/api/index';\n    import vTitleHead from '../../game/template/TitleHead';\n\n    const initData = {\n        '今天': 0,\n        '昨天': 1,\n        '7日': 7,\n        '30日': 30\n    }\n    const initPhone = {\n        'ALL': 0,\n        'ANDROID': 1,\n        'IOS': 2\n    }\n\n    export default {\n        name: \"reportData\",\n        components: {vTitleHead},\n        data() {\n            return {\n                loadingData: true,\n                defShow: true,\n                tableTrue: true,\n                value1: '1',\n                isShowCondition: false,\n                name: '概况数据',\n                systemName: '操作系统百分比(活跃/新增)',\n                dau: '活跃',\n                install: '新增',\n                pay: '付费',\n                retention: '留存(%)',\n                payChart: '付费数据',\n                retenTable: '留存数据(%)',\n                isShow: true,\n                isDevice: '用户',\n                phone: 'ALL',\n                data: '7日',\n                dauOrInstall: '活跃',\n                listData: [],\n                payList: [],\n                retentionDataList: [],\n                datas: [],\n                isccc: 99,\n                realtimeStatis: [{\n                    value: '',\n                    payRate: '',\n                    payARPU: '',\n                    payARPPU: '',\n                }, {\n                    value: '',\n                    payRate: '',\n                    payARPU: '',\n                    payARPPU: '',\n                }, {\n                    value: '',\n                    payRate: '',\n                    payARPU: '',\n                    payARPPU: '',\n                }],\n                retentionDataList: [{\n                    ds: '',\n                    oneRetentionPercentage: ''\n                }, {\n                    ds: '',\n                    oneRetentionPercentage: '',\n                    twoRetentionPercentage: '',\n                }, {\n                    ds: '',\n                    oneRetentionPercentage: '',\n                    twoRetentionPercentage: '',\n                    threeRetentionPercentage: ''\n                }],\n                handelPayCount: [],\n                finalTable: [],\n                columnsHeadrReal: [\n                    {\n                        title: '日期（星期）',\n                        key: 'ds',\n                        width: 120,\n                        fixed: 'left'\n                    },\n                    {\n                        title: '～时',\n                        key: 'dayOfHour',\n                        align: 'center',\n                        width: 80,\n                        fixed: 'left'\n                    }\n                ],\n                columnsHeadr: [\n                    {\n                        title: '日期（星期）',\n                        key: 'ds',\n                        width: 120,\n                        align: 'center',\n                        fixed: 'left'\n                    }\n                ],\n                columnsOver: [\n                    {\n                        title: '注册数',\n                        key: 'installNum',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '活跃数',\n                        key: 'dauNum',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '付费人数',\n                        key: 'payCount',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '付费总额',\n                        key: 'payAmount',\n                        align: 'center',\n                        width: 100\n                    },\n                    {\n                        title: '付费率（%）',\n                        key: 'payRate',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: 'ARPU',\n                        key: 'ARPU',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: 'ARPPU',\n                        key: 'ARPPU',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '注册付费率（%）',\n                        key: 'payInstallRate',\n                        align: 'center',\n                        width: 140\n                    },\n                    {\n                        title: '注册付费人数',\n                        key: 'payInstallCount',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '注册付费总额',\n                        key: 'payInstallAmount',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '注册付费ARPU',\n                        key: 'payInstallARPU',\n                        align: 'center',\n                        width: 150\n                    },\n                    {\n                        title: '注册付费ARPPU',\n                        key: 'payInstallARPPU',\n                        align: 'center',\n                        width: 150\n                    },\n                    {\n                        title: '付费次数',\n                        key: 'payTimes',\n                        align: 'center',\n                        width: 120\n                    },\n                    {\n                        title: '注册付费次数',\n                        key: 'payInstallTimes',\n                        align: 'center',\n                        width: 120\n                    }\n                ],\n                columns: [],\n                retentionTable: [\n                    // {\n                    //     type: 'selection',\n                    //     width: 60,\n                    //     align: 'center',\n                    //     fixed: 'left'\n                    // },\n                    // {\n                    //     type: 'index',\n                    //     width: 60,\n                    //     align: 'center',\n                    //     fixed: 'left'\n                    // },\n                    {\n                        title: '日期（星期）',\n                        key: 'ds',\n                        align: 'center',\n                        width: 120,\n                        fixed: 'left'\n                    },\n                    {\n                        title: '安装数',\n                        key: 'installNum',\n                        align: 'center',\n                        width: 80,\n                        fixed: 'left'\n                    },\n                    {\n                        title: '1日',\n                        key: 'oneRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '2日',\n                        key: 'twoRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '3日',\n                        key: 'threeRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '4日',\n                        key: 'fourRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '5日',\n                        key: 'fiveRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '6日',\n                        key: 'sixRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '7日',\n                        key: 'sevenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '8日',\n                        key: 'eightRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '9日',\n                        key: 'nineRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '10日',\n                        key: 'tenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '11日',\n                        key: 'elevenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '12日',\n                        key: 'twelveRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '13日',\n                        key: 'thirteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '14日',\n                        key: 'fourteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '15日',\n                        key: 'fifteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '16日',\n                        key: 'sixteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '17日',\n                        key: 'seventeenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '18日',\n                        key: 'eighteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '19日',\n                        key: 'nineteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '20日',\n                        key: 'twentyteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '21日',\n                        key: 'twentyOneteenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '22日',\n                        key: 'twentyTwoRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '23日',\n                        key: 'twentyThreeRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '24日',\n                        key: 'twentyFourRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '25日',\n                        key: 'twentyFiveRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '26日',\n                        key: 'twentySixRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '27日',\n                        key: 'twentySevenRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '28日',\n                        key: 'twentyEightRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '29日',\n                        key: 'twentyNineRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    },\n                    {\n                        title: '30日',\n                        key: 'thirtyRetentionPercentage',\n                        align: 'center',\n                        width: 80\n                    }\n                ],\n                surveyOneLine: {},\n                surveyManyLine: {},\n                davChart: {},\n                chartData: [],\n                map_pieChartD: {},\n                map_pieChartI: {},\n            };\n        },\n        methods: {\n            tableOnClick(row,info) {\n                if(info >= 0){\n                 return 'demoTableInfoRow'\n                }\n\n            },\n            enter() {\n                this.isShowCondition = true;\n            },\n            leave() {\n                this.isShowCondition = false;\n            },\n            init() {\n                this.loadingData = true;\n                if (this.getStore('parentId') == 0) {\n                    this.isShow = true\n                } else {\n                    this.isShow = false\n                }\n                this.initTable();\n                this.queryDaily();\n            },\n            surveyManyLineChart() {\n                /*---------------------多折线图-------------------*/\n                this.surveyManyLine = new G2.Chart({\n                    container: 'surveyManyLine',\n                    forceFit: true,\n                    height: 295\n                });\n                this.surveyManyLine.source(this.handelPayCount, {});\n                this.surveyManyLine.scale('value', {\n                    min: 0,\n                    alias: '人数',\n                });\n                this.surveyManyLine.scale('time', {\n                    tickCount: 10,\n                });\n                this.surveyManyLine.tooltip({\n                    crosshairs: {\n                        type: 'line'\n                    }\n                });\n                // 坐标轴文本旋转\n                this.surveyManyLine.axis('time', {\n                    label: {\n                        rotate: -Math.PI / 2.5,\n                        textAlign: 'end',\n                        textBaseline: 'middle'\n                    }\n                });\n                this.surveyManyLine.axis('time', {\n                    label: {\n                        formatter: val => {\n                            return val;\n                        }\n                    }\n                });\n                //设置图列居中显示\n                this.surveyManyLine.legend({\n                    position: 'bottom', //图列位置\n                    align: 'center', //图例的对齐方式\n                    itemWidth: null\n                });\n                this.surveyManyLine\n                    .line()\n                    .position('time*value')\n                    .color('type')\n                    .shape('smooth');\n                this.surveyManyLine\n                    .point()\n                    .position('time*value')\n                    .color('type')\n                    .size(4)\n                    .shape('circle')\n                    .style({\n                        stroke: '#fff',\n                        lineWidth: 1\n                    });\n                this.surveyManyLine.render();\n            },\n            surveyOneLineChart() {\n                /*---------------------单折线图-------------------*/\n                this.surveyOneLine = new G2.Chart({\n                    container: 'surveyOneLine',\n                    forceFit: true,\n                    height: 295\n                });\n                this.surveyOneLine.source(this.datas, {});\n                this.surveyOneLine.scale('value', {\n                    min: 0,\n                    alias: '人数',\n                });\n                this.surveyOneLine.scale('time', {\n                    // range: [0, 1]\n                    tickCount: 10,\n                });\n                this.surveyOneLine.tooltip({\n                    crosshairs: {\n                        type: 'line'\n                    }\n                });\n                // 坐标轴文本旋转\n                this.surveyOneLine.axis('time', {\n                    label: {\n                        rotate: -Math.PI / 2.5,\n                        textAlign: 'end',\n                        textBaseline: 'middle'\n                    }\n                });\n                // this.surveyOneLine.line().position('time*value').shape('smooth').color('l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF');\n                this.surveyOneLine.point().position('time*value')\n                    .size(4)\n                    .shape('circle')\n                    .style({\n                        stroke: '#fff',\n                        lineWidth: 1\n                    })\n                    .color('l(0) 0:#1E90FF 0.5:#1E90FF 1:#1E90FF');\n                this.surveyOneLine.area().position('time*value').shape('smooth');\n                this.surveyOneLine.render();\n                // return this.surveyOneLine;\n            },\n            roundChart() {\n                this.davChart = new G2.Chart({\n                    container: 'davChart',\n                    // forceFit: true,\n                    height: 250,\n                    // width: 400,\n                })\n                ;\n                this.davChart.source(this.chartData, {});\n                this.davChart.coord('theta', {\n                    radius: 0.75\n                });\n                this.davChart.tooltip({\n                    showTitle: false,\n                    // itemTpl: '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value}</li>'\n                });\n                this.davChart.intervalStack()\n                    .position('dauNum')\n                    .color('os')\n                    .label('dauNum', {\n                        formatter: (val, item) => {\n                            return this.map_pieChartD[item.point.os] + '/' + val + (item.point.os == 'unknown' ? '' : '/' + item.point.os);\n                        }\n                    })\n                    .tooltip('os*dauNum', (os, dauNum) => {\n                        return {\n                            name: os,\n                            value: dauNum\n                        };\n                    })\n                    .style({\n                        lineWidth: 1,\n                        stroke: '#fff'\n                    });\n                this.davChart.render();\n\n                this.installChart = new G2.Chart({\n                    container: 'installChart',\n                    // forceFit: true,\n                    height: 250,\n                    // width: 400,\n                })\n                ;\n                this.installChart.source(this.chartData, {});\n                this.installChart.coord('theta', {\n                    radius: 0.75\n                });\n                this.installChart.tooltip({\n                    showTitle: false,\n                    // itemTpl: '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value}</li>'\n                });\n                this.installChart.intervalStack()\n                    .position('installNum')\n                    .color('os')\n                    .label('installNum', {\n                        formatter: (val, item) => {\n                            return this.map_pieChartI[item.point.os] + '/' + val + (item.point.os == 'unknown' ? '' : '/' + item.point.os);\n                        }\n                    })\n                    .tooltip('os*installNum', (os, dauNum) => {\n                        return {\n                            name: os,\n                            value: dauNum\n                        };\n                    })\n                    .style({\n                        lineWidth: 1,\n                        stroke: '#fff'\n                    });\n                this.installChart.render();\n            },\n            initTable() {\n                if (initData[this.data] == 1 || initData[this.data] == 0) {\n                    this.columns = this.columnsHeadrReal.concat(this.columnsOver);\n                } else {\n                    this.columns = this.columnsHeadr.concat(this.columnsOver);\n                }\n\n                let tables = [];\n                let selection = new Object();\n                selection.type = 'selection';\n                selection.width = 60;\n                selection.align = 'center';\n                selection.fixed = 'left';\n                let index = new Object();\n                index.type = 'index';\n                index.width = 60;\n                index.align = 'center';\n                index.fixed = 'left';\n                let title = new Object();\n                title.title = '日期（星期）';\n                title.key = 'ds';\n                title.width = 150;\n                title.fixed = 'left';\n                // let days = [];\n                // for (let i = 1; i <= 30; i++) {\n                //     let dayObj = new Object();\n                //     dayObj.title = i + '日';\n                //     dayObj.key = [i + 'day'];\n                //     dayObj.width = 150;\n                //     days.push(dayObj);\n                // }\n                tables.push(selection);\n                tables.push(index);\n                tables.push(title);\n                // let finalTable = tables.concat(days);\n                // this.finalTable = finalTable;\n            },\n            queryDaily() {\n                let params = {\n                    gameid: parseInt(this.getStore('gameid')),\n                    deviceType: parseInt(this.isDevice === '用户' ? 0 : 1),\n                    osType: initPhone[this.phone],\n                    data: parseInt(initData[this.data]),\n                    hxType: parseInt(this.dauOrInstall === '活跃' ? 0 : 1),\n                }\n                queryDaily(params).then(e => {\n                    this.loadingData = false;\n                    if (e.success) {\n                        let percentage = []\n                        if (e.androidIosProportions.length > 0) {\n                            this.defShow = true;\n                            percentage = this.androidIosProportions(e.androidIosProportions);\n                        } else {\n                            this.defShow = false;\n                        }\n                        this.listData = this.tableDataProcess(e.shareDailyResultTypes, percentage);\n                        this.payList = e.payList;\n                        if(e.shareRetentionList.length >0) {\n                            this.retentionDataList = this.saturday(e.shareRetentionList);\n                        }\n                        this.datas = this.f2DI(e.dauNumOrInstallNumList, initData[this.data].toString(), this.listData, parseInt(this.dauOrInstall === '活跃' ? 0 : 1));\n                        this.handelPayCount = this.makeCavas(this.listData, initData[this.data]);\n                        this.chartData = this.makePieChart(e.androidIosProportions);\n                        this.surveyOneLine.changeData(this.datas);\n                        this.surveyManyLine.changeData(this.handelPayCount);\n                        this.davChart.changeData(this.chartData);\n                        this.installChart.changeData(this.chartData);\n                    }\n                });\n            },\n            makePieChart: function (info) {\n                let dauNumTotal = 0,\n                    installNumTotal = 0;\n                info.forEach(item => {\n                    dauNumTotal += item.dauNum;\n                    installNumTotal += item.installNum;\n                })\n                var map_pieChartD = {},\n                    map_pieChartI = {};\n                info.map(function (obj) {\n                    map_pieChartD[obj.os] = (obj.dauNum / dauNumTotal * 100).toFixed(2) + '%';\n                    map_pieChartI[obj.os] = (obj.installNum / installNumTotal * 100).toFixed(2) + '%';\n                })\n                this.map_pieChartD = map_pieChartD;\n                this.map_pieChartI = map_pieChartI;\n                return info;\n            },\n            androidIosProportions: (data) => {\n                if (data) {\n                    let dauNumSum = 0,\n                        installNumSum = 0,\n                        androidDauNum = 0,\n                        androidInstallNum = 0,\n                        iosDauNum = 0,\n                        iosInstallNum = 0,\n                        info = [];\n                    data.forEach((item) => {\n                        dauNumSum += item.dauNum;\n                        installNumSum += item.installNum;\n                        if (item.os == 'android') {\n                            androidDauNum += item.dauNum;\n                            androidInstallNum += item.installNum;\n                        }\n                        if (item.os == 'iOS') {\n                            iosDauNum += item.dauNum;\n                            iosInstallNum += item.installNum;\n                        }\n                    })\n                    info.push(((androidDauNum / dauNumSum * 100).toFixed(2)) + '%');\n                    info.push(((iosDauNum / dauNumSum * 100).toFixed(2)) + '%');\n                    info.push(((androidInstallNum / installNumSum * 100).toFixed(2)) + '%');\n                    info.push(((iosInstallNum / installNumSum * 100).toFixed(2)) + '%');\n                    return info;\n                }\n            },\n            tableDataProcess: function (data, info) {\n                if (data.length > 0) {\n                    let activeNum = 0,\n                        newIntall = 0,\n                        payTotal = 0,\n                        payCount = 0;\n\n                    data.forEach((item) => {\n                        activeNum += item.dauNum;\n                        newIntall += item.installNum;\n                        payTotal += item.payAmount;\n                        payCount += item.payCount;\n\n                        item.ds = this.weekFunction(item.ds);\n                        item.payAmount = item.payAmount / this.getStore(\"currencyRate\");\n                        item.payRate = item.dauNum == 0 ? 0 : (item.payCount * 100 / item.dauNum).toFixed(2);\n                        item.ARPU = item.dauNum == 0 ? 0 : (item.payAmount / item.dauNum).toFixed(2);\n                        item.ARPPU = item.payCount == 0 ? 0 : (item.payAmount / item.payCount).toFixed(2);\n                        item.payInstallAmount = item.payInstallAmount / this.getStore(\"currencyRate\");\n                        item.payInstallRate = item.installNum == 0 ? 0 : (item.payInstallCount * 100 / item.installNum).toFixed(2);\n                        item.payInstallARPU = item.installNum == 0 ? 0 : (item.payInstallAmount / item.installNum).toFixed(2);\n                        item.payInstallARPPU = item.payInstallCount == 0 ? 0 : (item.payInstallAmount / item.payInstallCount).toFixed(2);\n                    });\n                    if (info.length > 0) {\n                        let realtimeArray = [];\n                        let realtimeObject1 = new Object();\n                        realtimeObject1.title = '活跃';\n                        realtimeObject1.value = activeNum;\n                        realtimeObject1.payRate = info[0];\n                        realtimeObject1.payARPU = info[1];\n                        let realtimeObject2 = new Object();\n                        realtimeObject2.title = '新增';\n                        realtimeObject2.payRate = info[2];\n                        realtimeObject2.payARPU = info[3];\n                        realtimeObject2.value = newIntall;\n                        let realtimeObject3 = new Object();\n                        realtimeObject3.title = '付费';\n\n                        realtimeObject3.value = payTotal / this.getStore(\"currencyRate\");\n                        realtimeObject3.payRate = (activeNum == 0 ? 0 : (payCount * 100 / activeNum).toFixed(2) + '%');\n                        realtimeObject3.payARPU = (activeNum == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / activeNum).toFixed(2));\n                        realtimeObject3.payARPPU = (payCount == 0 ? 0 : (payTotal / this.getStore(\"currencyRate\") / payCount).toFixed(2));\n\n                        realtimeArray.push(realtimeObject1);\n                        realtimeArray.push(realtimeObject2);\n                        realtimeArray.push(realtimeObject3);\n                        this.realtimeStatis = realtimeArray;\n                    }\n                }\n                return data;\n            },\n            saturday: function (data) {\n                if (data) {\n                    data.forEach((item, index) => {\n                        let week = new Date(item.ds);\n                        let dateweek = week.getDay();\n                        let i = 7 - dateweek;\n                        let saturdays = [];\n                        switch (i) {\n                            case 7:\n                                saturdays = ['oneRetentionPercentage', 'eightRetentionPercentage', 'fifteenRetentionPercentage'];\n                                item.ds = item.ds + \"(七)\";\n                                break\n                            case 1:\n                                saturdays = ['sevenRetentionPercentage', 'fourteenRetentionPercentage'];\n                                item.ds = item.ds + \"(六)\";\n                                break\n                            case 2:\n                                saturdays = ['sixRetentionPercentage', 'thirteenRetentionPercentage'];\n                                item.ds = item.ds + \"(五)\";\n                                break\n                            case 3:\n                                saturdays = ['fiveRetentionPercentage', 'twelveRetentionPercentage'];\n                                item.ds = item.ds + \"(四)\";\n                                break\n                            case 4:\n                                saturdays = ['fourRetentionPercentage', 'elevenRetentionPercentage'];\n                                item.ds = item.ds + \"(三)\";\n                                break\n                            case 5:\n                                saturdays = ['threeRetentionPercentage', 'tenRetentionPercentage'];\n                                item.ds = item.ds + \"(二)\";\n                                break\n                            case 6:\n                                saturdays = ['twoRetentionPercentage', 'nineRetentionPercentage'];\n                                item.ds = item.ds + \"(一)\";\n                                break\n                            default:\n                        }\n                        ;\n                        item.special = saturdays;\n                        item.oneSpecial = saturdays[0];\n                        item.twoSpecial = saturdays[1];\n                    })\n                    return data;\n                }\n            },\n            f2DI: function (data, date, listData, type) {\n                let datas = [];\n                if (date == 0 || date == 1) {\n                    listData.forEach(info => {\n                        let item = new Object();\n                        if (type == 0) {\n                            item.value = info.dauNum;\n                        } else {\n                            item.value = info.installNum;\n                        }\n                        item.time = info.dayOfHour + '时';\n                        datas.push(item);\n                    });\n                } else {\n                    data.forEach((item, index) => {\n                        let info = new Object();\n                        info.time = this.getTime(index);\n                        info.value = item;\n                        datas.push(info);\n                    });\n                }\n                if (date == \"7\" || date == \"30\" || date == \"0\") {\n                    //该方法会改变原来的数组，而不会创建新的数组\n                    datas.reverse();\n                }\n                return datas;\n            },\n            getTime: function (index) {\n                let myDate = new Date();\n                myDate.setTime(myDate.getTime() - 24 * 60 * 60 * 1000 * (index + 1));\n                let dateTime = (myDate.getMonth() + 1) + \"-\" + myDate.getDate();\n                return dateTime;\n            },\n            weekFunction: function (ds) {\n                let week = new Date(ds);\n                let dateweek = week.getDay();\n                let i = 7 - dateweek;\n                switch (i) {\n                    case 7:\n                        ds = ds + \"(七)\";\n                        break\n                    case 1:\n                        ds = ds + \"(六)\";\n                        break\n                    case 2:\n                        ds = ds + \"(五)\";\n                        break\n                    case 3:\n                        ds = ds + \"(四)\";\n                        break\n                    case 4:\n                        ds = ds + \"(三)\";\n                        break\n                    case 5:\n                        ds = ds + \"(二)\";\n                        break\n                    case 6:\n                        ds = ds + \"(一)\";\n                        break\n                    default:\n                }\n                return ds;\n            },\n            makeCavas: (data, date) => {\n                if (data) {\n                    if (date == 0) {\n                        data.sort(function (a, b) {\n                            return b.dayOfHour - a.dayOfHour;\n                        });\n                    }\n                    let handelPayCount = [];\n                    data.forEach((item, index) => {\n                        let infopayCount = new Object();\n                        if (date != 7 && date != 30) {\n                            infopayCount.time = item.dayOfHour + '时';\n                        } else {\n                            infopayCount.time = (item.ds).substr(5, 5);\n                        }\n                        infopayCount.value = item.payCount;\n                        infopayCount.type = '付费人数';\n                        handelPayCount.push(infopayCount);\n                        let infopayAmount = new Object();\n                        if (date != 7 && date != 30) {\n                            infopayAmount.time = item.dayOfHour + '时';\n                        } else {\n                            infopayAmount.time = (item.ds).substr(5, 5);\n                        }\n                        infopayAmount.value = item.payAmount;\n                        infopayAmount.type = '付费金额';\n                        handelPayCount.push(infopayAmount);\n                        let infopayTimes = new Object();\n                        if (date != 7 && date != 30) {\n                            infopayTimes.time = item.dayOfHour + '时';\n                        } else {\n                            infopayTimes.time = (item.ds).substr(5, 5);\n                        }\n                        infopayTimes.value = item.payTimes;\n                        infopayTimes.type = '付费次数';\n                        handelPayCount.push(infopayTimes);\n                        let infopayInstallCount = new Object();\n                        if (date != 7 && date != 30) {\n                            infopayInstallCount.time = item.dayOfHour + '时';\n                        } else {\n                            infopayInstallCount.time = (item.ds).substr(5, 5);\n                        }\n                        infopayInstallCount.value = item.payInstallCount;\n                        infopayInstallCount.type = '安装付费人数';\n                        handelPayCount.push(infopayInstallCount);\n                        let infopayInstallAmount = new Object();\n                        if (date != 7 && date != 30) {\n                            infopayInstallAmount.time = item.dayOfHour + '时';\n                        } else {\n                            infopayInstallAmount.time = (item.ds).substr(5, 5);\n                        }\n                        infopayInstallAmount.value = item.payInstallAmount;\n                        infopayInstallAmount.type = '安装付费金额';\n                        handelPayCount.push(infopayInstallAmount);\n                        let infoPayInstallTimes = new Object();\n                        if (date != 7 && date != 30) {\n                            infoPayInstallTimes.time = item.dayOfHour + '时';\n                        } else {\n                            infoPayInstallTimes.time = (item.ds).substr(5, 5);\n                        }\n                        infoPayInstallTimes.value = item.payInstallTimes;\n                        infoPayInstallTimes.type = '安装付费次数';\n                        handelPayCount.push(infoPayInstallTimes);\n                    });\n                    if (date == 7 || date == 30 || date == 0) {\n                        handelPayCount.reverse();\n                    }\n                    return handelPayCount;\n                }\n            },\n        },\n        mounted() {\n            this.surveyOneLineChart();\n            this.surveyManyLineChart();\n            this.roundChart();\n            this.init();\n        }\n    }\n</script>\n\n<style scoped>\n    .reportChartLeft {\n        position: absolute;\n    }\n\n    .chartBord {\n        width: 52%;\n        position: relative;\n        left: 47%;\n    }\n\n    .roundChart {\n        width: 52%;\n        height: 300px;\n        position: relative;\n        left: 47%;\n        display: flex;\n        padding-top: 50px;\n        justify-content: space-around;\n        background-color: #fff;\n        border-radius: 0 0 10px 10px;\n    }\n\n    .menyLine {\n        margin-top: 15px;\n        /*position: absolute;*/\n        /*width: 47%;*/\n        height: 330px;\n    }\n\n    .bottomTable {\n        margin-top: 15px;\n        /*position: relative;*/\n        /*left: 50%;*/\n        /*width: 50%;*/\n    }\n\n    .conditionHead {\n        position: fixed;\n        left: 35%;\n        top: 120px;\n        z-index: 999;\n    }\n\n    .smillPeople {\n        width: 45px;\n        height: 35px;\n        background-image: url(../../../assets/smillPeople.jpg);\n        background-size: 300px 35px;\n        animation: walk1 1s steps(7) infinite;\n    }\n\n    @keyframes walk1 {\n        0% {\n            background-position: 0;\n        }\n\n        100% {\n            background-position: 300px;\n        }\n    }\n\n    .isRed {\n        color: red\n    }\n\n    .ivu-table-row:hover {\n        background-color: red\n    }\n\n     tr.ivu-table-row.demoTableInfoRow{\n        background-color: indianred;\n    }\n</style>\n"]}]}